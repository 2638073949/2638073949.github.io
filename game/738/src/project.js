window.__require=function e(t,r,o){function n(c,i){if(!r[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!i&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var h=r[c]={exports:{}};t[c][0].call(h.exports,function(e){return n(t[c][1][e]||e)},h,h.exports,e,t,r,o)}return r[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<o.length;c++)n(o[c]);return n}({AStar:[function(e,t,r){"use strict";cc._RF.push(t,"7929funNkpGXpo1uZMzR1dF","AStar"),Object.defineProperty(r,"__esModule",{value:!0}),r.AStar={_mapW:0,_mapH:0,cubeArr:null,pathArr:[],openArr:[],closeArr:[],findPath:function(e,t,r){return null==e||null==t?null:(this.startCube=e,this.endCube=t,this.pathArr=[],this.openArr=[],this.closeArr=[],this.targetX=t.column,this.targetY=t.row,this.openArr.push(e),e._G=0,this.setCubeH(e),this.getPathOpen(r),0!=this.pathArr?this.pathArr:(console.log("\u65e0\u6cd5\u5bfb\u8def"),null))},getPathOpen:function(e){if(this.openArr.length>0){var t=this.openArr[this.openArr.length-1];return this.openArr.splice(this.openArr.length-1,1),this.closeArr.push(t),this.getMapBgMinF(t,e)}return this.pathArr=null,!1},isWalkCube:function(e){return!(null!=e.have||this.closeArr.indexOf(e)>-1)},getCubeForXY:function(e,t){return e<0||e>this.cubeArr.length-1?null:t<0||t>this.cubeArr[e].length-1?null:this.cubeArr[e][t]},getAroundForMap:function(e){var t=e.column,r=e.row,o=[],n=this.getCubeForXY(t,r+1);return null!=n&&this.isWalkCube(n)&&(this.setCubeH(n),o.push(n)),null!=(n=this.getCubeForXY(t+1,r))&&this.isWalkCube(n)&&(this.setCubeH(n),o.push(n)),null!=(n=this.getCubeForXY(t,r-1))&&this.isWalkCube(n)&&(this.setCubeH(n),o.push(n)),null!=(n=this.getCubeForXY(t-1,r))&&this.isWalkCube(n)&&(this.setCubeH(n),o.push(n)),o},getMapBgMinF:function(e,t){var r=this.getAroundForMap(e),o=null;if(r.length>0){var n=this.isOpenHaveArr(r);if(o=r[0],0!=n&&n._G+n._H<e._G+e._H&&!t)return this.closeArr.push(e),this.closeArr.push(n),this.openArr.splice(this.openArr.indexOf(n),1),this.getMapBgMinF(n,t)}for(var a=0;a<r.length;a++){var c=r[a];c._H<o._H&&(o=c),c._G=e._G+1,c._P=e}return r.length>0?(r.splice(r.indexOf(o),1),this.closeArr.push(o),o._P=e,this.addOpenArr(r,e),o==this.endCube?(this.addPathArr(o,this.pathArr),this.pathArr.reverse(),!0):void this.getMapBgMinF(o,t)):this.getPathOpen()},isOpenHaveArr:function(e){for(var t=0;t<e.length;t++)if(this.openArr.indexOf(e[t])>-1)return e[t];return!1},addPathArr:function(e,t){e==this.startCube?t.push(e):null!=e._P&&(t.push(e),this.addPathArr(e._P,t))},addOpenArr:function(e,t){for(var r=0;r<e.length;r++){var o=e[r];this.openArr.push(o)}},setCubeH:function(e){var t=this.endCube.position.sub(e.position).mag();e._H=t},generatePath:function(e){for(this.pathArr.push(e);e._P;)e=e._P,this.pathArr.push(e);this.pathArr.reverse()},findPath2:function(e,t){this.pathArr=[],this.openArr=[],this.closeArr=[];for(var r=0;r<this._mapW;r++)for(var o=0;o<this._mapH;o++)this.cubeArr[r][o]._F=0,this.cubeArr[r][o]._G=0,this.cubeArr[r][o]._H=0,this.cubeArr[r][o]._P=null;this.openArr.push(e);for(var n=this.openArr[0];this.openArr.length>0&&n!==t;){if((n=this.openArr[0])===t)return cc.log("Find path success."),this.generatePath(n),this.pathArr;for(r=-1;r<=1;r++)for(o=-1;o<=1;o++)if(0!=r||0!=o){var a=n.column+r,c=n.row+o;if(a>=0&&c>=0&&a<this._mapW&&c<this._mapH&&0==this.cubeArr[a][c].type&&this.closeArr.indexOf(this.cubeArr[a][c])<0){if(Math.abs(r)==Math.abs(o))continue;var i=n._G+Math.sqrt(Math.pow(10*r,2)+Math.pow(10*o,2));(0==this.cubeArr[a][c]._G||this.cubeArr[a][c]._G>i)&&(this.cubeArr[a][c]._G=i,this.cubeArr[a][c]._P=n),this.cubeArr[a][c]._H=Math.abs(t.column-a)+Math.abs(t.row-c),this.cubeArr[a][c]._F=this.cubeArr[a][c]._G+this.cubeArr[a][c]._H,this.openArr.indexOf(this.cubeArr[a][c])<0&&this.openArr.push(this.cubeArr[a][c])}}this.closeArr.push(n),this.openArr.splice(this.openArr.indexOf(n),1),this.openArr.length<=0&&cc.log("Find path failed."),this.openArr.sort(this._sortFunc)}},_sortFunc:function(e,t){return e.f-t.f}},cc._RF.pop()},{}],AniTools:[function(e,t,r){"use strict";cc._RF.push(t,"e6159dpEOhBwogHHMk0hhTE","AniTools");var o={doLabStrAni:function(e,t,r){e.node.stopAllActions(),e.string="";var o=t.split(""),n=0,a=r/o.length;e.node.runAction(cc.sequence(cc.callFunc(function(){e.string=e.string+o[n],n++}),cc.delayTime(a)).repeat(o.length))},gunNumLabAni:function(e,t){var r=parseInt(e.string);if(t!=r){var o=0,n=t-r>=50?50:t-r;e.node.runAction(cc.sequence(cc.callFunc(function(){o>=n-1?e.string=t:(r++,e.string=r),o++}),cc.delayTime(.02)).repeat(n))}},openUIAni:function(e,t,r,o){e.opacity=0,t.scale=0,e.runAction(cc.fadeTo(r,100)),t.runAction(cc.sequence(cc.scaleTo(r,1).easing(cc.easeBackOut()),cc.callFunc(o)))},closeUIAni:function(e,t,r,o){e.runAction(cc.fadeOut(r)),t.runAction(cc.sequence(cc.scaleTo(r,0).easing(cc.easeBackIn()),cc.callFunc(o)))},fireColorArr:["#F5CD4D","#F77986","#D0F057","#7ACCE8","#E365EE"],fireworksAni:function(e,t,r,o){for(var n=0;n<t;n++){var a=ToolsJs.newSprite("fire"+this.returnRanNum(1,4));a.scale=.3+.5*Math.random(),a.position=r,a.color=cc.color(this.fireColorArr[this.returnRanNum(0,this.fireColorArr.length-1)]),e.addChild(a,88);var c=this.returnRanNum(o-15,o+15),i=this.returnRanNum(300,1e3);this.fireObjAni(a,c,i,350,.005*n)}},fireObjAni:function(e,t,r,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=.1+.5*Math.random();e.runAction(cc.rotateBy(a,this.returnRanNum(-360,360)).repeatForever());var c=cc.misc.degreesToRadians(t),i=cc.v2(Math.cos(c)*r,Math.sin(c)*r),s=r/o;e.runAction(cc.sequence(cc.delayTime(n),cc.jumpBy(s,cc.v2(1.5*i.x,0),r,1),cc.removeSelf(!0)))},bombObjAni:function(e,t,r,o,n,a){t=t||this.returnRanNum(-180,180);var c=cc.misc.degreesToRadians(t),i=cc.v2(Math.cos(c)*r,Math.sin(c)*r),s=r/o,l=n?0:e.scale,h=a?0:255;e.runAction(cc.sequence(cc.spawn(cc.scaleTo(s+.1,l),cc.moveBy(s,i).easing(cc.easeQuadraticActionOut()),cc.fadeTo(s+.1,h)),cc.fadeOut(.1),cc.removeSelf(!0)))},playAni:function(e,t){e.getComponent(cc.Animation).play(t)},stopAni:function(e,t){e.getComponent(cc.Animation).stop(t)},addNodeAni:function(e,t,r,o,n,a,c){for(var i=e.getComponent(cc.Animation),s=[],l=o;l<=n;l++){var h=new cc.SpriteFrame(cc.url.raw("resources/"+t+l+".png"));s.push(h)}var u=cc.AnimationClip.createWithSpriteFrames(s,5);u.name=r,u.speed=c,u.wrapMode=a?cc.WrapMode.Loop:cc.WrapMode.Normal,i.addClip(u)},returnRanNum:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}};window.AniTools=o,cc._RF.pop()},{}],ArrayTools:[function(e,t,r){"use strict";cc._RF.push(t,"d3dc6utBwNBxIqdWiQijfMR","ArrayTools"),Object.defineProperty(r,"__esModule",{value:!0});r.ArrayTools={removeDuplicates:function(e){var t=e.length;if(0===t)return 0;for(var r=1,o=1;r<t;)e[r]!==e[r-1]&&(e[o]=e[r],++o),++r;return o},indexOfArrayVec2:function(e,t){if(0===t.length)return-1;for(var r=0;r<t.length;r++)if(t[r].x===e.x&&t[r].y===e.y)return r;return-1},isArray:function(e){return e.constructor.toString().indexOf("Array")>-1},rotate:function(e,t){var r=e.length;0!==r&&0!==t&&1!==r&&(t%=r,e.reverse(),this.reverse(e,0,t-1),this.reverse(e,t,r-1))},reverse:function(e,t,r){for(;t<r;){var o=e[t];e[t++]=e[r],e[r--]=o}},intersect:function(e,t){e.sort(function(e,t){return e-t}),t.sort(function(e,t){return e-t});for(var r=[],o=0,n=0;o<e.length&&n<t.length;)e[o]==t[n]?(r.push(e[o]),o++,n++):e[o]>t[n]?n++:o++;return r},intersectMap:function(e,t){for(var r={},o=[],n=0,a=e;n<a.length;n++){var c=a[n];r[c]?r[c]++:r[c]=1}for(var i=0,s=t;i<s.length;i++){var l=s[i];r[l]>0&&(o.push(l),r[l]--)}return o},plusOne:function(e){for(var t=e.length-1;t>-1;t--)if(e[t]++,e[t]%=10,0!=e[t])return e;return[1].concat(e)},moveZeroes:function(e){if(null!=e&&0!=e.length){for(var t=0,r=0;r<e.length;r++)0!=e[r]&&(e[t++]=e[r]);for(;t<e.length;)e[t++]=0}},twoSum:function(e,t){var r=new Map,o=[];e.map(function(e,t){r.set(e,t)});for(var n=0;n<e.length-1;n++)if(r.has(t-e[n])&&r.get(t-e[n])!=n)return o.push(n,r.get(t-e[n])),o},isValidSudoku:function(e){for(var t=new Array(9).fill(null).map(function(){return new Set}),r=new Array(9).fill(null).map(function(){return new Set}),o=new Array(9).fill(null).map(function(){return new Set}),n=0;n<9;++n)for(var a=0;a<9;++a)if("."!==e[n][a]){var c=e[n][a],i=this.getBlockIndex(n,a);if(r[n].has(c)||t[a].has(c)||o[i].has(c))return!1;r[n].add(c),t[a].add(c),o[i].add(c)}return!0},getBlockIndex:function(e,t){return 3*Math.floor(e/3)+Math.floor(t/3)}},cc._RF.pop()},{}],Card:[function(e,t,r){"use strict";cc._RF.push(t,"d51b0ojTtZHXbChmwdfP9cB","Card");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var a=e("../commonJs/GameTools"),c=e("../CoreScript/MapManager"),i=e("../CoreScript/MusicManager"),s=cc._decorator,l=s.ccclass,h=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cardRenderNode=null,t.cardShadowNode=null,t.promptNode=null,t.cardSpriteNode=null,t.cardBackNode=null,t._cardNum=0,t._initIndex=0,t._canTouch=!1,t._cardColor=c.CardColor.Club,t.initPos=cc.v2(0,0),t.shadowInitPos=cc.v2(2,-3),t.cardSprite=null,t}return o(t,e),t.prototype.onLoad=function(){this.cardSprite=this.cardSpriteNode.getComponent(cc.Sprite),this.cardShadowNode.setPosition(this.shadowInitPos)},t.prototype.start=function(){},t.prototype.init=function(e,t,r){switch(this._cardNum=e,this._cardColor=t,t){case c.CardColor.Club:this.cardSprite.spriteFrame=c.default.Instance.cardClubSpriteFrameArr[this._cardNum-1];break;case c.CardColor.Diamond:this.cardSprite.spriteFrame=c.default.Instance.cardDiamondSpriteFrameArr[this._cardNum-1];break;case c.CardColor.Heart:this.cardSprite.spriteFrame=c.default.Instance.cardHeartSpriteFrameArr[this._cardNum-1];break;case c.CardColor.Spade:this.cardSprite.spriteFrame=c.default.Instance.cardSpadeSpriteFrameArr[this._cardNum-1]}this.node.setContentSize(r),this.cardRenderNode.setContentSize(r),this.cardShadowNode.setContentSize(r.width+10,(r.width+10)/.744),this.promptNode.setContentSize(r.width+10,(r.width+10)/.744),this.cardSpriteNode.setContentSize(r),this.cardBackNode.setContentSize(r)},t.prototype.flopAnim1=function(e){var t=this;this.cardSpriteNode.scaleX=0,this.cardShadowNode.active=!1,cc.tween(this.cardBackNode).delay(e).to(.07,{scaleX:0}).call(function(){t.cardBackNode.active=!1,cc.tween(t.cardSpriteNode).to(.07,{scaleX:1}).call(function(){t.cardShadowNode.active=!0,t._canTouch=!0}).start()}).start()},t.prototype.flopAnim2=function(e,t){var r=this;this.cardSpriteNode.scaleX=0,this.cardShadowNode.active=!1,this.node.zIndex=999,i.default.Instance.playMusic(3,1,!1),cc.tween(this.node).to(.08,{skewY:10}).to(.08,{skewY:0}).start(),cc.tween(this.node).to(.16,{position:e}).start(),cc.tween(this.cardBackNode).to(.08,{scaleX:0,position:cc.v2(0,10)}).call(function(){r.cardBackNode.active=!1,r.cardBackNode.setPosition(cc.v2(0,0)),r.cardSpriteNode.setPosition(cc.v2(0,10)),cc.tween(r.cardSpriteNode).parallel(cc.tween().to(.04,{scaleX:1}),cc.tween().to(.08,{position:cc.v2(0,0)})).call(function(){r.cardShadowNode.active=!0,r._canTouch=!0,r.node.zIndex=t}).start()}).start()},t.prototype.flopAnim3=function(e,t,r){var o=this;this.cardShadowNode.active=!1,this._canTouch=!1,this.node.zIndex=999,cc.tween(this.node).to(.08,{skewY:-10}).to(.08,{skewY:0}).start(),cc.tween(this.node).delay(r).call(function(){i.default.Instance.playMusic(2,1,!1)}).to(.16,{position:e}).start(),cc.tween(this.cardSpriteNode).delay(r).to(.08,{scaleX:0,position:cc.v2(0,10)}).call(function(){o.cardBackNode.scaleX=0,o.cardBackNode.active=!0,o.cardSpriteNode.setPosition(cc.v2(0,0)),o.cardBackNode.setPosition(cc.v2(0,10)),cc.tween(o.cardBackNode).parallel(cc.tween().to(.04,{scaleX:1}),cc.tween().to(.08,{position:cc.v2(0,0)})).call(function(){o.cardShadowNode.active=!0,o.node.zIndex=t}).start()}).start()},t.prototype.flopAnim4=function(e){var t=this;e?cc.tween(this.cardSpriteNode).to(.15,{scaleX:0}).call(function(){t.cardSpriteNode.active=!1,t.cardBackNode.scaleX=0,t.cardBackNode.active=!0,cc.tween(t.cardBackNode).to(.15,{scaleX:1}).start()}).start():cc.tween(this.cardBackNode).to(.15,{scaleX:0}).call(function(){t.cardBackNode.active=!1,t.cardSpriteNode.scaleX=0,t.cardSpriteNode.active=!0,cc.tween(t.cardSpriteNode).to(.15,{scaleX:1}).start()}).start()},t.prototype.shakeAnim=function(){i.default.Instance.playMusic(0,.5,!1);var e=this.node.position.x,t=this.node.position.y;cc.tween(this.node).to(.05/3*2,{position:cc.v2(e-8,t)}).to(.05,{position:cc.v2(e+4,t)}).to(.05,{position:cc.v2(e-4,t)}).to(.05,{position:cc.v2(e+2,t)}).to(.05,{position:cc.v2(e-2,t)}).to(.05,{position:cc.v2(e+.8,t)}).to(.05,{position:cc.v2(e-.4,t)}).to(.05,{position:cc.v2(e,t)}).start()},t.prototype.liftUpAnim=function(){this.initPos=this.node.getPosition(),this._initIndex=this.node.zIndex,cc.tween(this.cardShadowNode).to(.075,{position:cc.v2(7,-8)}).start(),cc.tween(this.cardSpriteNode).to(.075,{position:cc.v2(-5,5)}).start()},t.prototype.recovery=function(){this.moveTo(this.initPos,this._initIndex)},t.prototype.moveTo=function(e,t){var r=this;cc.tween(this.node).to(.12,{position:e}).call(function(){r.node.zIndex=t,r.layDownAnim()}).start()},t.prototype.layDownAnim=function(){cc.tween(this.cardShadowNode).to(.075,{position:this.shadowInitPos}).start(),cc.tween(this.cardSpriteNode).to(.075,{position:cc.v2(0,0)}).start()},t.prototype.promptAnim=function(){this.promptNode.opacity=0,this.promptNode.active=!0,this.promptNode.setContentSize(this.cardShadowNode.getContentSize()),this.promptNode.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5))))},t.prototype.stopPromptAnim=function(){this.promptNode.stopAllActions(),this.promptNode.active=!1,this.promptNode.opacity=0},t.prototype.dropDown=function(){var e=a.getRndInteger(1,2,!1);cc.tween(this.node).by(e,{position:cc.v2(0,-1500),angle:a.getRndInteger(-360,360,!0)}).start()},n([h(cc.Node)],t.prototype,"cardRenderNode",void 0),n([h(cc.Node)],t.prototype,"cardShadowNode",void 0),n([h(cc.Node)],t.prototype,"promptNode",void 0),n([h(cc.Node)],t.prototype,"cardSpriteNode",void 0),n([h(cc.Node)],t.prototype,"cardBackNode",void 0),t=n([l],t)}(cc.Component);r.default=u,cc._RF.pop()},{"../CoreScript/MapManager":"MapManager","../CoreScript/MusicManager":"MusicManager","../commonJs/GameTools":"GameTools"}],DataManager:[function(e,t,r){"use strict";cc._RF.push(t,"2582fBxDJNBa7MnTjaV/T5g","DataManager");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(){return function(){this.isFirstPlay=!0,this.isFinishGuide=!1,this.score=0,this.highScore=0,this.playLevel=1}}(),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameName="DefaultName",t.playerData=null,t}var r;return o(t,e),r=t,t.prototype.onLoad=function(){null!=r.Instance&&r.Instance.isValid&&r.Instance.destroy(),r.Instance=this,r.Instance.playerData=JSON.parse(cc.sys.localStorage.getItem(this.gameName+"playerData")),null==this.playerData&&(this.playerData=new s,r.Save())},t.GetPlayerData=function(){return r.Instance.playerData},t.SetLevel=function(e){r.Instance.playerData.playLevel=e,r.Save()},t.GetLevel=function(){return r.Instance.playerData.playLevel},t.SetFirstPlay=function(e){r.Instance.playerData.isFirstPlay=e,r.Save()},t.GetFirstPlay=function(){return r.Instance.playerData.isFirstPlay},t.SetPlayerScore=function(e){r.Instance.playerData.score=e,r.Save()},t.GetPlayerScore=function(){return r.Instance.playerData.score},t.SetPlayerHighScore=function(e){r.Instance.playerData.highScore=e,r.Save()},t.GetPlayerHighScore=function(){return r.Instance.playerData.highScore},t.Load=function(){r.Instance.playerData=JSON.parse(cc.sys.localStorage.getItem(r.Instance.gameName+"playerData"))},t.Save=function(){cc.sys.localStorage.setItem(r.Instance.gameName+"playerData",JSON.stringify(r.Instance.playerData))},t.Instance=null,n([i(cc.String)],t.prototype,"gameName",void 0),t=r=n([c],t)}(cc.Component);r.default=l,cc._RF.pop()},{}],FloatScore:[function(e,t,r){"use strict";cc._RF.push(t,"2f3b7KWUHFPKaAtPdK0kv4m","FloatScore");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.add=null,t.word=null,t.score=null,t.wordSpriteFrame=[],t.ding=null,t.colorArr=[],t}return o(t,e),t.prototype.onLoad=function(){this.wordSprite=this.word.getComponent(cc.Sprite),this.colorArr=[new cc.Color(0,0,255),new cc.Color(255,0,255),new cc.Color(255,255,0)]},t.prototype.start=function(){},t.prototype.init=function(e){cc.audioEngine.play(this.ding,!1,.5),10==e?(this.wordSprite.spriteFrame=this.wordSpriteFrame[0],this.add.color=this.colorArr[0],this.score.node.color=this.colorArr[0]):30==e?(this.wordSprite.spriteFrame=this.wordSpriteFrame[1],this.add.color=this.colorArr[1],this.score.node.color=this.colorArr[1]):50==e&&(this.wordSprite.spriteFrame=this.wordSpriteFrame[2],this.add.color=this.colorArr[2],this.score.node.color=this.colorArr[2]),this.score.string=e.toString(),this.anim(e),this.node.setScale(2)},t.prototype.anim=function(e){this.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,.7),cc.fadeIn(.3)),cc.scaleTo(.5,1),cc.scaleTo(.5,.7),cc.scaleTo(.5,1),cc.scaleTo(.5,.7),cc.callFunc(function(){this.MainGame.gainScore(e)},this),cc.fadeOut(.3),cc.callFunc(function(){this.MapCon.floatScorePool.put(this.node)},this)))},n([i(cc.Node)],t.prototype,"add",void 0),n([i(cc.Node)],t.prototype,"word",void 0),n([i(cc.Label)],t.prototype,"score",void 0),n([i(cc.SpriteFrame)],t.prototype,"wordSpriteFrame",void 0),n([i({type:cc.AudioClip})],t.prototype,"ding",void 0),t=n([c],t)}(cc.Component);r.default=s,cc._RF.pop()},{}],FrameAnimManager:[function(e,t,r){"use strict";cc._RF.push(t,"42ac2oufkFAMrO+O49bAzzj","FrameAnimManager");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=(a.property,function(){return function(){this.sprite=null,this.animName=null,this.spriteFrameArr=[],this.isLoop=!1,this.canPlay=!1,this.autoDestroy=!1,this.playTime=0,this.duration=0}}()),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._canPlayAnim=!1,t.currentFrameAnimList=[],t}var r;return o(t,e),r=t,t.prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this},t.prototype.start=function(){},t.prototype.addFrameAnim=function(e,t,r,o,n,a){var c=new i;return c.sprite=e,c.animName=t,c.spriteFrameArr=r,c.isLoop=o,c.autoDestroy=n,c.duration=a,this.currentFrameAnimList.push(c),this.currentFrameAnimList.indexOf(c)},t.prototype.startPlayAnim=function(e){this._canPlayAnim||(this._canPlayAnim=!0),e<=this.currentFrameAnimList.length-1&&e>=0&&(this.currentFrameAnimList[e].canPlay=!0)},t.prototype.playFrameAnim=function(e,t){var r=this.currentFrameAnimList[e];r.playTime+=t;var o=Math.floor(r.playTime/r.duration);if(r.isLoop){for(;o>=r.spriteFrameArr.length;)o-=r.spriteFrameArr.length,r.playTime-=r.duration*r.spriteFrameArr.length;r.sprite.spriteFrame=r.spriteFrameArr[o]}else{if(o>=r.spriteFrameArr.length)return r.autoDestroy?(r.canPlay=!1,r.playTime=0,void this.currentFrameAnimList.splice(e,1)):(r.sprite.spriteFrame=r.spriteFrameArr[r.spriteFrameArr.length-1],r.canPlay=!1,void(r.playTime=0));r.sprite.spriteFrame=r.spriteFrameArr[o]}},t.prototype.stopFrameAnim=function(e){var t=this.currentFrameAnimList[e];t.sprite.spriteFrame=t.spriteFrameArr[0],t.canPlay=!1,t.playTime=0},t.prototype.update=function(e){if(this._canPlayAnim)for(var t=0;t<this.currentFrameAnimList.length;t++)this.currentFrameAnimList[t].canPlay&&this.playFrameAnim(t,e)},t.Instance=null,t=r=n([c],t)}(cc.Component);r.default=s,cc._RF.pop()},{}],GameConfig:[function(e,t,r){"use strict";cc._RF.push(t,"f0663sWtfNKCKOL+Hvnt0cI","GameConfig");var o={GameClubButton:null,GameScene:null,launchScene:null,Bros:null,caS:null,MAIN_MENU_NUM:"Classic",gameScore:0,standScore:180,GAME_OVER_BOOL:!0,gameMaxScore:0,canPlayMusic:!0,gameIsSuccess:!1,publicGameBool:!1,GuideCardArr:[[{cardColor:3,cardNum:4},{cardColor:2,cardNum:3},{cardColor:1,cardNum:2},{cardColor:0,cardNum:1},{cardColor:3,cardNum:0}],[{cardColor:3,cardNum:4},{cardColor:2,cardNum:3},{cardColor:1,cardNum:2},{cardColor:0,cardNum:1},{cardColor:3,cardNum:0}],[{cardColor:1,cardNum:4},{cardColor:2,cardNum:3},{cardColor:1,cardNum:2},{cardColor:0,cardNum:1},{cardColor:3,cardNum:0}],[{cardColor:1,cardNum:4},{cardColor:2,cardNum:3},{cardColor:1,cardNum:2},{cardColor:0,cardNum:1},{cardColor:3,cardNum:0}],[{cardColor:2,cardNum:4},{cardColor:2,cardNum:3},{cardColor:1,cardNum:2},{cardColor:0,cardNum:1},{cardColor:3,cardNum:0}],[{cardColor:2,cardNum:4},{cardColor:2,cardNum:3},{cardColor:1,cardNum:2},{cardColor:0,cardNum:1},{cardColor:3,cardNum:0}]],ranLinkData:null,recGameData:null,InfoData:null,endShow0:null,endShow1:null,endShow2:null,endShow3:null,infoGameName:null,showText:null,startText:null,moreGameText:null,playAgainText:null,playNum:0,noTouchBool:!0,returnRanNum:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}};t.exports=o,cc._RF.pop()},{}],GameData:[function(e,t,r){"use strict";cc._RF.push(t,"aff05VcW7lIjZOYTq3erU7E","GameData");var o={isOnline:!1,getData:function(){if(!this.isOnline){var e=cc.sys.localStorage.getItem("Solitaire_3");return null==e||""==e?{gameBeginnerGuide:!0,gameMaxScore:1e4,playNum:0}:JSON.parse(e)}},setData:function(e,t,r){if(!this.isOnline){var o={gameBeginnerGuide:e,gameMaxScore:t,playNum:r};cc.sys.localStorage.setItem("Solitaire_3",JSON.stringify(o))}}};t.exports=o,cc._RF.pop()},{}],GameTools:[function(e,t,r){"use strict";cc._RF.push(t,"9e4e7c2meZG2L0zrZOXU2Q0","GameTools");var o={localConvertWorldPointAR:function(e){return e?e.convertToWorldSpaceAR(cc.v2(0,0)):null},localConvertWorldPoint:function(e){return e?e.convertToWorldSpace(cc.v2(0,0)):null},worldConvertLocalPointAR:function(e,t){return e?e.convertToNodeSpaceAR(t):null},worldConvertLocalPoint:function(e,t){return e?e.convertToNodeSpace(t):null},convetOtherNodeSpaceAR:function(e,t){if(!e||!t)return null;var r=this.localConvertWorldPointAR(e);return this.worldConvertLocalPointAR(t,r)},convetOtherNodeSpace:function(e,t){if(!e||!t)return null;var r=this.localConvertWorldPoint(e);return this.worldConvertLocalPoint(t,r)},LocalCoordinatesToTheWorldAR:function(e,t){return e?e.convertToWorldSpaceAR(t):null},LocalCoordinatesToTheWorld:function(e,t){return e?e.convertToWorldSpace(t):null},vecEquals:function(e,t){return e.x==t.x&&e.y==t.y},PlayBgm:function(e,t){var r=this.bgmId;cc.loader.loadRes(this.loadMusicPath+e,cc.AudioClip,function(e,o){e?cc.error(e.message||e):r.id=cc.audioEngine.play(o,!0,t)})},getRndInteger:function(e,t,r){return r?Math.floor(Math.random()*(t-e+1))+e:Math.random()*(t-e)+e}};t.exports=o,cc._RF.pop()},{}],GameUiTools:[function(e,t,r){"use strict";cc._RF.push(t,"b21e8tF461OFalpptyeuAE2","GameUiTools");e("GameConfig");var o={newSprite:function(e,t){var r=new cc.Node;return t?(e=e.split(".")[0],r.addComponent(cc.Sprite).spriteFrame=GameTools.love2048FrameCache.getSpriteFrame(e)):r.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame("res/raw-assets/resources/"+e),r},setNodeSpriteFrame:function(e,t){e.getComponent(cc.Sprite).spriteFrame=GameTools.love2048FrameCache.getSpriteFrame(t)},setButtonClickEvents:function(e,t,r,o,n){var a=new Array;void 0==t.length?a[0]=t:a=t;for(var c=0;c<a.length;c++){var i=new cc.Component.EventHandler;i.target=e.node,i.component=e.node.name,i.handler=r,void 0==t.length?i.customEventData=o:i.customEventData=c;var s=a[c].addComponent(cc.Button);s.clickEvents.push(i),(void 0==n||n)&&(s.transition=cc.Button.Transition.SCALE,s.duration=.1,s.zoomScale=1.2)}},scheduleOnce:function(e,t,r){e.runAction(cc.sequence(cc.delayTime(r),cc.callFunc(t,e)))},loadingScene:function(e,t){t?cc.loader.loadRes("panel/LoadingLayer",function(t,r){var o=cc.instantiate(r);cc.director.getScene().children[0].addChild(o),cc.director.preloadScene(e,function(){cc.director.loadScene(e)})}):cc.director.preloadScene(e,function(){cc.director.loadScene(e)})},loadingLayer:function(e){cc.loader.loadRes(e,function(e,t){if(!e){var r=cc.instantiate(t);cc.director.getScene().children[0].addChild(r,100)}})}};t.exports=o,cc._RF.pop()},{GameConfig:"GameConfig"}],HttpManagerJs:[function(e,t,r){"use strict";var o;function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}cc._RF.push(t,"197e1hfNnxIcJx73V3VhUxY","HttpManagerJs");var a=e("GameConfig"),c=(n(o={URL:"http://www.wesane.com/h5service.php/Interface/services",cacheList:null,isBusy:null,req:null,perform:null,retGameId:0},"cacheList",[]),n(o,"ctor",function(){}),n(o,"checkHave",function(){this.isBusy||this.sendOne()}),n(o,"httpInitUrl",function(e){console.log("data",this.URL),this.retGameId=e}),n(o,"send",function(e,t,r,o){this.cacheList.push({type:e,data:t,func:r,target:o}),this.isBusy||this.sendOne()}),n(o,"sendOne",function(){if(0!=this.cacheList.length){this.isBusy=!0,this.perform=this.cacheList.shift(),this.req=cc.loader.getXMLHttpRequest(),this.req.onreadystatechange=this.onDataHandler.bind(this),this.req.onerror=this.onErrorHandler.bind(this),this.req.ontimeout=this.onTimeoutHandler.bind(this),this.req.timeout=2e3,cc.log("pos",this.URL),this.req.open("POST",this.URL),this.req.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");var e=this.returnLanguage();console.log("gameIdid",this.retGameId);var t=this.retGameId,r={type:this.perform.type,gid:t,mid:null,data:this.perform.data,languageType:e},o="send="+JSON.stringify(r);this.req.send(o)}}),n(o,"onDataHandler",function(){if(404!=this.req.status){if(4==this.req.readyState&&this.req.status>=200&&this.req.status<=207&&this.req.responseText){var e=JSON.parse(this.req.responseText);this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,e.error,e.data,e.commendGame,e.gameInfo):this.perform.func(e)}}else{var t=a.launchScene,r=a.Bros;a.caS;cc.director.loadScene(t,null,function(){if(r){"";var e=document.getElementById("GameDiv");e&&(e.style.backgroundImage="")}cc.loader.onProgress=null,console.log("Success to load scene: "+t)})}}),n(o,"returnLanguage",function(){return(""+window.navigator.language).toLocaleLowerCase()}),n(o,"onErrorHandler",function(){cc.log("\u7f51\u7edc\u9519\u8bef"),this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,-1):this.perform.func(-1)}),n(o,"onTimeoutHandler",function(){cc.log("\u8bf7\u6c42\u8d85\u65f6"),this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,-1):this.perform.func(-1)}),n(o,"clearAll",function(){for(var e=this.cacheList.length,t=0;t<e;t++){var r=this.cacheList[t];r&&(r.target?r.func.call(r.target,-1):r.func(-1))}this.cacheList.length=0}),o);t.exports=c,cc._RF.pop()},{GameConfig:"GameConfig"}],LanguageSetJs:[function(e,t,r){"use strict";cc._RF.push(t,"4754e8KuPZJCqklCNyKpG29","LanguageSetJs");t.exports={language_1:{game_name:"\u300c\u56db\u8272\u63a5\u9f99\u300d",game_name1:"\u56db\u8272\u63a5\u9f99",game_info:"\u7ecf\u5178\u7684\u7eb8\u724c\u63a5\u9f99\u5c0f\u6e38\u620f\uff0c\u6b63\u53cd\u90fd\u53ef\u4ee5\u63a5\u3002",txtStart:"\u5f00\u59cb",txtMore:"\u66f4\u591a\u6e38\u620f",txtAgain:"\u518d\u73a9\u4e00\u6b21",txtShare1:"\u5728\u6e38\u620f\u4e2d ",txtShare2:"\u5f97\u5206\u4e86\uff0c\u597d\u554a!\u4f60\u548c\u6211\u4e00\u8d77\u6765\u6bd4\u8d5b!",bgRgb:"#3698C5",gameT1:"\u5173\u6ce8\u6211\u4eec",gameT2:"\u7eb8\u724c\u63a5\u9f99",gameT3:"\u9526\u4e0a\u6dfb\u82b1",gameUrl1:"http://g.regogame.com/game/9/",gameUrl2:"http://g.regogame.com/game/3/",gameT11:"\u5173\u6ce8\u5fae\u4fe1",gameT12:"\u5173\u6ce8Kakao",gameT13:"\u5173\u6ce8Line",gameEndL:"\u6e38 \u620f \u7ed3 \u675f",gameEndL1:"\u7a0d \u5019 \u67e5 \u770b \u5206 \u6570"},language_2:{game_name:"\u300cSolitaire\u300d",game_name1:"Solitaire",game_info:"The classic card solitaire mini-game, both pros and cons can be received.",txtStart:"Start",txtMore:"More Game",txtAgain:"Play Again",txtShare1:"In Game ",txtShare2:" Let's play together!",bgRgb:"#3698C5",gameT1:"Follow Us",gameT2:"Thousand Flower",gameT3:"Eliminate Star",gameUrl1:"http://g.fromgame.com/game/53",gameUrl2:"http://g.fromgame.com/game/13",gameT11:"Focus WeChat",gameT12:"Focus Kakao",gameT13:"Focus Line",gameEndL:"Game OVer",gameEndL1:"View the score later"}},cc._RF.pop()},{}],LoadSceneJs:[function(e,t,r){"use strict";cc._RF.push(t,"3ef908fwfNIwJsOjET8tCh2","LoadSceneJs");var o={goToCover:function(e,t,r,o,n){var a=e;a=null==a||void 0==a||e,console.log("LoadBoolBeforeLoadS",a),this.needShow=!1,a&&a?(this.needShow=!0,showMyAds()):this.needShow=!1,this.needShow?(void 0==preloader&&this.startGoToGame(r,o,n),resCompleteFlag=!0,adCompleteFlag&&resCompleteFlag&&this.startGoToGame(r,o,n)):this.startGoToGame(r,o,n)},startGoToGame:function(e,t,r){console.log("goToScene"),noAdGoToScene()}};t.exports=o,cc._RF.pop()},{}],MainCamera:[function(e,t,r){"use strict";cc._RF.push(t,"a57fao1i6NBBK8xvlX1q/NC","MainCamera");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var a=e("../commonJs/GameConfig"),c=cc._decorator,i=c.ccclass,s=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MainGame=null,t}var r;return o(t,e),r=t,t.prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this,this.MainGame=cc.find("Canvas").getComponent("MainGameJS")},t.prototype.start=function(){},Object.defineProperty(t.prototype,"borderTop",{get:function(){return this.node.y+this.MainGame.gameHeight/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderBottom",{get:function(){return this.node.y-this.MainGame.gameHeight/2},enumerable:!0,configurable:!0}),t.prototype.addTouchEvents=function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){a.GAME_OVER_BOOL&&a.noTouchBool&&cc.log("---=====touchStart=====---")},this)},t.prototype.reMoveTouchEvents=function(){this.node.off(cc.Node.EventType.TOUCH_START)},t.prototype.shake=function(){var e=this.node.getPosition();this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveBy(.03,cc.v2(8,7)),cc.moveBy(.03,cc.v2(-9,7)),cc.moveBy(.03,cc.v2(-13,3)),cc.moveBy(.03,cc.v2(10,-6)),cc.moveBy(.03,cc.v2(-5,5)),cc.moveBy(.03,cc.v2(13,-8)),cc.moveBy(.03,cc.v2(-14,-10)),cc.moveBy(.03,cc.v2(3,10)),cc.moveTo(.03,e)))},t.prototype.update=function(e){},t.Instance=null,t=r=n([i],t)}(cc.Component));r.default=s,cc._RF.pop()},{"../commonJs/GameConfig":"GameConfig"}],MainGameJS:[function(e,t,r){"use strict";cc._RF.push(t,"0e7a8SkMLxEY7nCB1Bqi8WZ","MainGameJS");var o=e("GameConfig"),n=e("GameUiTools"),a=e("MainManage"),c=e("GameData");e("GameTools");cc.Class({extends:cc.Component,properties:{UIManager:cc.Node,MapManager:cc.Node,bgLayer:cc.Node,sceneScore:cc.Label,mute:{type:cc.AudioClip,default:null},over:{type:cc.AudioClip,default:null}},onLoad:function(){this.platFromNum=1,this.judgeCurPlatform(),this.adapterScreen(),this.UICon=this.UIManager.getComponent("UIManager"),this.MapCon=this.MapManager.getComponent("MapManager"),this.CollisionFun(),this.gameData=c.getData(),this.gameBeginner=this.gameData.gameBeginnerGuide,this.playNum=this.gameData.playNum,this.playNum>=3?this.gameBeginner=!1:this.playNum++,o.gameMaxScore=this.gameData.gameMaxScore,o.GAME_OVER_BOOL=!0,o.gameIsSuccess=!1,this.gameWidth=cc.winSize.width,this.gameHeight=cc.winSize.height,this.bgLayer.height=this.gameHeight,this.bgLayer.children[1].y=-this.gameHeight/2,this.bgLayer.children[0].y=this.bgLayer.children[1].y+160,n.loadingLayer("panel/LinkIconSpr"),cc.audioEngine.play(this.mute,!1,0)},CollisionFun:function(){cc.director.getPhysicsManager().enabled=!0,this.manager=cc.director.getCollisionManager(),this.manager.enabled=!0,this.manager.enabledDebugDraw=!0,cc.director.getPhysicsManager().debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit,cc.director.getPhysicsManager().debugDrawFlags=0,cc.director.getCollisionManager().enabledDebugDraw=!1},judgeCurPlatform:function(){console.log(navigator.userAgent);var e=function(){var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),r=/(?:SymbianOS)/.test(e)||t,o=/(?:Android)/.test(e),n=/(?:Firefox)/.test(e),a=(/(?:Chrome|CriOS)/.test(e),/(?:iPad|PlayBook)/.test(e)||o&&!/(?:Mobile)/.test(e)||n&&/(?:Tablet)/.test(e)),c=/(?:iPhone)/.test(e)&&!a;return{isTablet:a,isPhone:c,isAndroid:o,isPc:!c&&!o&&!r}}();e.isAndroid||e.isPhone?this.platFromNum=1:e.isTablet?this.platFromNum=2:e.isPc&&(this.platFromNum=3)},adapterScreen:function(){var e=cc.find("Canvas").getComponent(cc.Canvas);2==this.platFromNum||3==this.platFromNum?(e.fitWidth=!0,e.fitHeight=!0):(e.fitWidth=!0,e.fitHeight=!1)},init:function(){this.addTouchEvents(),this.gameScore=0,this.curTouchId=0,this.gameStart=!0,this.gameOver=!1,this.canTouchMove=!1,this.canTouchEnd=!1,this.touchMoveFlag=!1,this.startTouchPos=null},PlayBgm:function(e,t){var r=this;cc.loader.loadRes("music/"+e,cc.AudioClip,function(e,o){if(e)cc.error(e.message||e);else{var n=cc.audioEngine.play(o,!0,t);r.bgm=n}})},addTouchEvents:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){if(o.GAME_OVER_BOOL&&o.noTouchBool)return e.curTouchId=t.touch._id,e.MapCon.judgeTouchPos(t.getLocation()),e.startTouchPos=t.getLocation(),!0},this),1!=this.playNum&&this.openMoveDrag(),this.node.on(cc.Node.EventType.TOUCH_END,this.on_touch_end,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.on_touch_cancel,this)},openMoveDrag:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.on_touch_move,this)},on_touch_move:function(e){this.canTouchMove&&e.touch._id===this.curTouchId&&(e.getLocation().sub(this.startTouchPos).mag()<30&&!this.touchMoveFlag||(this.touchMoveFlag=!0,this.MapCon.touchMove(e.getLocation()),console.log("touchMoved")))},on_touch_end:function(e){this.canTouchEnd&&e.touch._id===this.curTouchId&&(this.MapCon.touceEnd(e.getLocation()),this.canTouchMove=!1,this.canTouchEnd=!1,this.touchMoveFlag=!1,console.log("touchEnd"))},on_touch_cancel:function(e){this.canTouchEnd&&e.touch._id===this.curTouchId&&(this.MapCon.touceEnd(e.getLocation()),this.canTouchMove=!1,this.canTouchEnd=!1,this.touchMoveFlag=!1,console.log("touchCancel"))},gainScore:function(e){this.gameScore+=e,this.sceneScore.string=this.gameScore.toString()},gameEnd:function(){this.gameOver||(this.gameOver=!0,this.UICon.canNotTouch=!0,o.gameScore=this.gameScore,o.gameMaxScore>this.gameScore&&(o.gameMaxScore=this.gameScore),c.setData(this.gameBeginner,o.gameMaxScore,this.playNum),a.gameOverShowText(o.gameScore,1),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(this.gameEnd1.bind(this)))))},gameEnd1:function(){this.UICon.gameOver()},initEndLayer:function(){a.gotoEndLayer()},play:function(){var e=this;adBreak({type:"next",name:"restart-game",beforeBreak:function(){e.enableButtons()},afterBreak:function(){e.enableButtons()}})},enableButtons:function(){},start:function(){this.init()},update:function(e){}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools",MainManage:"MainManage"}],MainManage:[function(e,t,r){"use strict";cc._RF.push(t,"946adGkxvdBmZXnlD952XtK","MainManage");var o=e("HttpManagerJs"),n=e("LanguageSetJs"),a=e("GameConfig"),c=e("LoadSceneJs"),i=(e("GameUiTools"),{gameHttpId:0,subScoreHttp:null,gameNameText:null,gameInfoText:null,txtStartText:null,txtMoreText:null,txtAgainText:null,gameEndLText:null,gameEndL1Text:null,bgLayRgb:null,gameEndName1:null,gameEndName2:null,gameEndUrl1:null,gameEndUrl2:null,langugeType:1,ranLinkData:null,adShowBefore:!1,adShowAfter:!0,endLayCol:null,moreBtnBgCol:null,moreBtnTextCol:null,recGameData:null,recGameUrl:null,recGameDelPau:null,recGameDelPer:null,recGameimg1:null,recGameimg2:null,recGamePos:null,InfoData:null,endShow0:null,endShow1:null,endShow2:null,endShow3:null,infoGameName:null,showText:null,startText:null,moreGameText:null,playAgainText:null,endHttpShowInfo:null,moreGameUrl:null,init:function(e,t,r){if(!a.publicGameBool){if(a.playNum>=1)return;a.playNum++}a.launchScene=e,a.Bros=t,a.caS=r,this.curType=1,this.getHttpGameId(),this.gamePV_load(),console.log("thisg",this.gameHttpId),o.httpInitUrl(this.gameHttpId);var n=this.initLanguage();this.gameNameText=n.game_name,this.gameInfoText=n.game_info,this.txtStartText=n.txtStart,this.txtMoreText=n.txtMore,this.txtAgainText=n.txtAgain,this.gameEndLText=n.gameEndL,this.gameEndL1Text=n.gameEndL1,this.bgLayRgb=n.bgRgb,this.gameEndName1=n.gameT2,this.gameEndName2=n.gameT3,this.gameEndUrl1=n.gameUrl1,this.gameEndUrl2=n.gameUrl2,this.langugeType=this.curType,c.goToCover(this.adShowBefore,this.adShowAfter,e,t,r)},getHttpGameId:function(){var e=window.location.href,t=e.substring(0,e.lastIndexOf("//")+2),r=window.location.host,o=t+r+"/Service/Share/index";this.gameAllHttp=o,cc.log("gameAll",this.gameAllHttp),this.subScoreHttp=t+r+"/Service/Score/index",this.gamePvHttp=t+r+"/Service/GamePv/index";var n=document.URL,a=0,c=n.substring(n.lastIndexOf("/game/")+1,n.length).split("/");c.length>=2&&(a=c[1]),this.gameHttpId=a,cc.log("gameId",a);e.substring(e.lastIndexOf("//")+4,e.lastIndexOf("com")+3);this.moreGameUrl="https://space.bilibili.com/94397294"},gameOverShowText:function(e,t){this.ajaxLoad("http://www.wesane.com/admin.php/Gamescore/saveGamescore","gameScore="+e+"&gameId="+this.gameHttpId+"&gameType="+t,this.scoreResult)},gamePV_load:function(){this.ajaxLoad("http://www.wesane.com/admin.php/Activityshow/gamelogo","gameID="+this.gameHttpId,this.ajaxOnLogoResult)},ajaxOnLogoResult:function(){},ajaxLoad:function(e,t,r){var o=cc.loader.getXMLHttpRequest();o.onreadystatechange=r,o.open("POST",e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(t)},scoreResult:function(e){if(null!=e.currentTarget.response&&""!=e.currentTarget.response){var t=JSON.parse(e.currentTarget.response);cc.log("endshow",t.content),i.endHttpShowInfo=t.content}},initLanguage:function(){var e=null;return cc.sys.language==cc.sys.LANGUAGE_CHINESE?(this.curType=1,e=n.language_1):(cc.log("\u82f1\u6587"),this.curType=2,e=n.language_2),e},getLinkGameReturn:function(e,t,r,o){if(console.log("err0",e),console.log("err1",t),console.log("err2",r),console.log("err3",o),0==e){this.ranLinkData=t,console.log("LoadMainGameScnee");var n=a.launchScene,i=a.Bros,s=a.caS;c.goToCover(this.adShowBefore,this.adShowAfter,n,i,s)}},ranRecGameData:function(){if(null!=this.recGameData&&""!=this.recGameData){this.returnBool=!1;var e=this.recGameData.length,t=a.returnRanNum(1,e)-1;cc.log("ranNNN",t),this.recGameUrl=this.recGameData[t].data_link,this.recGameDelPer=this.recGameData[t].delay_per,this.recGameDelPau=this.recGameData[t].delay_pau,this.recGameimg1=this.recGameData[t].img_1,this.recGameimg2=this.recGameData[t].img_2,this.recGamePos=this.recGameData[t].poistion}},ranLinkUrl:function(){if(null!=this.ranLinkData&&this.ranLinkData.gameList&&null!=this.ranLinkData.gameList){var e=this.ranLinkData.gameList.length,t=a.returnRanNum(1,e)-1;return cc.log("templ",t,this.ranLinkData.gameList),cc.log("url",this.ranLinkData.gameList[0].gameName,this.ranLinkData.gameList[0].gameUrl),t}return null},gotoEndLayer:function(){if(cc.find("Canvas").getComponent("MainGameJS").UICon.count++,console.log("\u8c03\u7528\u5e7f\u544a"),a.publicGameBool)this.showGameEndLayer();else{if(adEndComplete=!1,resEndComplete=!1,this.needShow=null,1==window.navigator.onLine){var e=this.adShowAfter;console.log("ad",e),(e=null==e||void 0==e||this.adShowAfter)?(this.needShow=!0,console.log("showMyad"),showMyAds()):this.needShow=!1}else console.log("showOver1"),this.showGameEndLayer(),this.needShow=null;console.log("showMyad2",this.needShow),null!=this.needShow&&(console.log("showMyad3"),this.needShow?(console.log("pre",preloader),void 0==preloader&&this.showGameEndLayer(),resEndComplete=!0,adEndComplete&&resEndComplete&&(console.log("showOver1"),this.showGameEndLayer())):(console.log("gam"),this.showGameEndLayer()))}},showGameEndLayer:function(){cc.find("Canvas").getComponent("MainGameJS").gameEnd1()}});t.exports=i,cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",HttpManagerJs:"HttpManagerJs",LanguageSetJs:"LanguageSetJs",LoadSceneJs:"LoadSceneJs"}],MapManager:[function(e,t,r){"use strict";cc._RF.push(t,"90655Wr6VtFWZFbE+GZoVXW","MapManager");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var a,c,i,s=e("../commonJs/GameTools"),l=e("../commonJs/GameConfig"),h=e("./PoolManager"),u=e("../ToolScript/ArrayTools"),d=e("./MusicManager"),p=cc._decorator,m=p.ccclass,g=p.property;(function(e){e[e.GS_INIT=0]="GS_INIT",e[e.GS_PLAYING=1]="GS_PLAYING",e[e.GS_END=2]="GS_END"})(a=r.GameState||(r.GameState={})),function(e){e[e.GL_SIMPLE=1]="GL_SIMPLE",e[e.GL_NORMAL=2]="GL_NORMAL",e[e.GL_HARD=3]="GL_HARD",e[e.GL_HELL=4]="GL_HELL",e[e.GL_NIGHTMARE=5]="GL_NIGHTMARE"}(c||(c={})),function(e){e[e.GS_ONE=1]="GS_ONE",e[e.GS_TWO=2]="GS_TWO",e[e.GS_THREE=3]="GS_THREE",e[e.GS_FORE=4]="GS_FORE"}(i||(i={}));var f=function(){return function(){}}();r.Cube=f;var v,y=function(){return function(){this.offY=50,this.lastOffY=50,this.cardArr=[]}}();(function(e){e[e.Club=0]="Club",e[e.Diamond=1]="Diamond",e[e.Heart=2]="Heart",e[e.Spade=3]="Spade"})(v=r.CardColor||(r.CardColor={}));var A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cardClubSpriteFrameArr=[],t.cardDiamondSpriteFrameArr=[],t.cardHeartSpriteFrameArr=[],t.cardSpadeSpriteFrameArr=[],t._mapW=6,t._spacing=10,t._maxCardCount=52,t._mapInitCardCount=30,t._deckInitCardCount=22,t._leftBorder=0,t._mapCardAreaY=0,t._heightScale=1,t._curTime=0,t._promptCountDown=10,t._batterNum=0,t._batterCountDown=1,t._canPrompt=!0,t._testGameOverAnim=!1,t._inBatter=!1,t._curState=a.GS_INIT,t._curLevel=c.GL_SIMPLE,t._curStep=null,t.cardSize=new cc.Size(100,134),t.deckPos=cc.v2(0,0),t.dealPos=cc.v2(0,0),t.guidePos=null,t.MainGame=null,t.successArea=null,t.deckBox=null,t.refreshDeckPrompt=null,t.colParent=null,t.cardParent=null,t.memberZIndex=null,t.curControlCol=null,t.cardArr=[],t.deckArr=[],t.dealArr=[],t.colArr=[],t.curControlCardArr=[],t.successCardArr=[[],[],[],[]],t.successCardNumArr=[0,0,0,0],t.successCardColorArr=[void 0,void 0,void 0,void 0],t.GuideCardArr=[],t.curPromptCardArr=[],t}var r;return o(t,e),r=t,t.prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this,this.MainGame=cc.find("Canvas").getComponent("MainGameJS"),this.successArea=this.node.getChildByName("successArea"),this.deckBox=this.node.getChildByName("deckBox"),this.refreshDeckPrompt=this.deckBox.children[0],this.colParent=this.node.getChildByName("colParent"),this.cardParent=this.node.getChildByName("cardParent"),this.memberZIndex={particle:60},this._heightScale=this.MainGame.gameHeight/1280,this._leftBorder=-this.MainGame.gameWidth/2+40,this._spacing=(this.MainGame.gameWidth-80-this._mapW*this.cardSize.width)/(this._mapW-1),this.successArea.x=this._leftBorder+this.cardSize.width/2,this.successArea.y=this.MainGame.gameHeight/2-160;for(var e=0;e<this.successArea.children.length;e++)this.successArea.children[e].setContentSize(this.cardSize);this._mapCardAreaY=this.successArea.y-this.cardSize.height-30,this.deckPos.x=-this._leftBorder-this.cardSize.width/2,this.deckPos.y=-this.MainGame.gameHeight/2+150*this._heightScale+this.cardSize.height/2,this.deckBox.setPosition(this.deckPos),this.deckBox.setContentSize(this.cardSize),this.dealPos.x=this.deckPos.x-this.cardSize.width-100,this.dealPos.y=this.deckPos.y},t.prototype.start=function(){this.initData(),this.startAnim()},Object.defineProperty(t.prototype,"curState",{get:function(){return this._curState},set:function(e){switch(e){case a.GS_PLAYING:l.noTouchBool=!0;break;case a.GS_END:l.noTouchBool=!1}this._curState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"curLevel",{set:function(e){switch(e){case c.GL_NORMAL:cc.log("\u6b63\u5e38\u96be\u5ea6");break;case c.GL_HARD:cc.log("\u56f0\u96be\u96be\u5ea6");break;case c.GL_HELL:cc.log("\u5730\u72f1\u96be\u5ea6");break;case c.GL_NIGHTMARE:cc.log("\u5669\u68a6\u96be\u5ea6")}this._curLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"curStep",{set:function(e){switch(e){case i.GS_ONE:this.guidePos=this.colArr[0].cardArr[4].position;break;case i.GS_TWO:this.guidePos=this.colArr[2].cardArr[4].position;break;case i.GS_THREE:this.guidePos=this.colArr[1].cardArr[4].position;break;case i.GS_FORE:this.guidePos=this.colArr[3].cardArr[3].position,this.MainGame.openMoveDrag()}this.MainGame.UICon.beginnerHandAction(this.guidePos,1),this._curStep=e},enumerable:!0,configurable:!0}),t.prototype.initData=function(){for(var e=[],t=0;t<4;t++){var r=[],o=void 0;switch(t){case 0:o=v.Club;break;case 1:o=v.Diamond;break;case 2:o=v.Heart;break;case 3:o=v.Spade}for(var n=1;n<=13;n++){var a=this.createCard(o,n);r.push(a)}e.push(r),this.cardArr.push(r)}if(this._testGameOverAnim)this.initTestGameOverAnim();else{this.MainGame.gameBeginner&&1==this.MainGame.playNum&&(this.GuideCardArr=l.GuideCardArr);for(t=0;t<this._mapW;t++){var c=new y;c.posX=this._leftBorder+this.cardSize.width/2+(this.cardSize.width+this._spacing)*t,c.posY=this._mapCardAreaY;var i=h.default.Spawn("colBg");this.colParent.addChild(i),i.setPosition(cc.v2(c.posX,c.posY)),i.setContentSize(this.cardSize);for(n=0;n<this._mapInitCardCount/this._mapW;n++){var u=void 0,d=void 0;for(this.MainGame.gameBeginner?1==this.MainGame.playNum?(u=this.GuideCardArr[t][n].cardColor,d=this.GuideCardArr[t][n].cardNum):(d=e[u=s.getRndInteger(0,e.length-1,!0)].length-1,4==n&&(d=0)):(u=s.getRndInteger(0,e.length-1,!0),d=s.getRndInteger(0,e[u].length-1,!0));0==e[u].length;)u=s.getRndInteger(0,e.length-1,!0),d=s.getRndInteger(0,e[u].length-1,!0);a=e[u][d];c.cardArr.push(a),e[u].splice(d,1),0==e[u].length&&e.splice(u,1);var p=cc.v2(c.posX,c.posY);a.setPosition(p),a.active=!0}this.colArr.push(c)}for(t=0;t<e.length;t++)for(n=0;n<e[t].length;n++)this.deckArr.push(e[t][n]);this.deckArr.sort(function(){return Math.random()-.5});for(t=0;t<this.deckArr.length;t++)this.deckArr[t].setPosition(this.deckPos),this.deckArr[t].active=!0,this.deckArr[t].zIndex=t}},t.prototype.equalsCardInfo=function(e,t){for(var r=0;r<t.length;r++)if(u.ArrayTools.isArray(t[r]))for(var o=t[r],n=0;n<o.length;n++){var a=o[n];if(e.cardColor===a.cardColor&&e.cardNum===a.cardNum)return!0}else{a=t[r];if(e.cardColor===a.cardColor&&e.cardNum===a.cardNum)return!0}return!1},t.prototype.createCard=function(e,t){var r=h.default.Spawn("card");return this.cardParent.addChild(r,0),r.active=!1,r.getComponent("Card").init(t,e,this.cardSize),r},t.prototype.startAnim=function(){for(var e=this,t=0;t<this.colArr.length;t++)for(var r=this.colArr[t],o=0;o<r.cardArr.length;o++){var n=r.cardArr[o];if(n.zIndex=o,cc.tween(n).by(.09*o,{position:cc.v2(0,-r.offY*o)},{easing:"backOut"}).start(),o==r.cardArr.length-1)n.getComponent("Card").flopAnim1(.09*o)}d.default.Instance.playMusic(5,1,!1),cc.tween(this.node).delay(.59).call(function(){e.MainGame.gameBeginner&&1==e.MainGame.playNum?e.curStep=i.GS_ONE:e.curState=a.GS_PLAYING}).start()},t.prototype.initTestGameOverAnim=function(){for(var e=0;e<this.successCardArr.length;e++)for(var t=0;t<13;t++){this.successCardArr[e].push(this.cardArr[e][t]),this.cardArr[e][t].getComponent("Card").flopAnim1(0);var r=s.convetOtherNodeSpaceAR(this.successArea.children[e],this.node);this.cardArr[e][t].setPosition(r),this.cardArr[e][t].active=!0}this.gameEnd()},t.prototype.openTouchDelay=function(e){var t=this;this.curControlCardArr=[],this.curControlCol=null,this.tryToGameEnd()?cc.tween(this.node).delay(.2).call(function(){t.gameEnd()}).start():cc.tween(this.node).delay(e).call(function(){t.MainGame.gameBeginner&&1==t.MainGame.playNum&&(t._curStep===i.GS_ONE?t.curStep=i.GS_TWO:t._curStep===i.GS_TWO?t.curStep=i.GS_THREE:t._curStep===i.GS_THREE?t.curStep=i.GS_FORE:t._curStep===i.GS_FORE&&(t.MainGame.playNum++,t.curState=a.GS_PLAYING)),l.noTouchBool=!0}).start()},t.prototype.tryToGameEnd=function(){for(var e=0;e<this.successCardNumArr.length;e++)if(13!=this.successCardNumArr[e])return!1;return!0},t.prototype.judgeTouchPos=function(e){var t=s.worldConvertLocalPointAR(this.node,e);if(this.MainGame.gameBeginner&&1==this.MainGame.playNum){if(!this.judgeIsTouchTargetArea(t,this.guidePos,!0))return;this.MainGame.UICon.beginnerOverAction()}if(this.judgeIsTouchTargetArea(t,this.deckPos,!1))return cc.log("\u70b9\u51fb\u53d1\u724c\u5806\u7ffb\u724c"),this.deckFlop(),void this.resetPrompt();if(this.judgeIsTouchTargetArea(t,this.dealPos,!1))return cc.log("\u83b7\u53d6\u53d1\u724c\u533a\u57df\u6700\u4e0a\u5c42\u7684\u5361\u724c"),this.getCardOnDeal(),void this.resetPrompt();var r=this.getTouchCol(t);if(r){cc.log("\u70b9\u51fb\u5230\u5217: "+this.colArr.indexOf(r));var o=this.getTouchCard(t,r);if(o){this.resetPrompt();var n=this.getContinuouCardInCol(o,r);if(n){l.noTouchBool=!1;for(var a=0;a<n.length;a++){n[a].getComponent("Card").liftUpAnim()}this.curControlCol=r,this.curControlCardArr=n,this.MainGame.canTouchMove=!0,this.MainGame.canTouchEnd=!0}else{o.getComponent("Card").shakeAnim()}}}},t.prototype.judgeIsTouchTargetArea=function(e,t,r){var o=0;return r||(o=30),e.x>=t.x-this.cardSize.width/2-o&&e.x<=t.x+this.cardSize.width/2+o&&e.y>=t.y-this.cardSize.height/2-o&&e.y<=t.y+this.cardSize.height/2+o},t.prototype.deckFlop=function(){if(l.noTouchBool=!1,this.deckArr.length>0){var e=this.deckArr.pop();e.getComponent("Card").flopAnim2(this.dealPos,this.dealArr.length),this.dealArr.push(e),this.openTouchDelay(.1)}else this.refreshDeck()},t.prototype.refreshDeck=function(){if(l.noTouchBool=!1,this.MainGame.canTouchMove=!1,this.MainGame.canTouchEnd=!1,this.dealArr.length>0){cc.log("\u5237\u65b0\u53d1\u724c\u5806");for(var e=this.dealArr.length,t=0;t<e;t++){var r=this.dealArr.pop();r.getComponent("Card").flopAnim3(this.deckPos,t,.05*t),this.deckArr.push(r)}this.openTouchDelay(.05*e+.16)}else l.noTouchBool=!0},t.prototype.getCardOnDeal=function(){if(l.noTouchBool=!1,this.dealArr.length>0){var e=this.dealArr[this.dealArr.length-1];e.getComponent("Card").liftUpAnim(),this.curControlCardArr.push(e),this.MainGame.canTouchMove=!0,this.MainGame.canTouchEnd=!0}else l.noTouchBool=!0},t.prototype.getTouchCol=function(e){for(var t=0;t<this.colArr.length;t++){var r=this.colArr[t];if(e.x>=r.posX-this.cardSize.width/2&&e.x<=r.posX+this.cardSize.width/2)return r}return null},t.prototype.getTouchCard=function(e,t){for(var r=t.cardArr.length-1;r>-1;r--){var o=t.cardArr[r],n=o.getComponent("Card");if(o.getBoundingBox().contains(e)&&n._canTouch)return o}return null},t.prototype.getContinuouCardInCol=function(e,t){var r=[];r.push(e);for(var o=t.cardArr.indexOf(e),n=e.getComponent("Card"),a=n._cardNum,c=n._cardColor,i=o+1;i<t.cardArr.length;i++){var s=t.cardArr[i].getComponent("Card");if(this.matchCardColor(c,s._cardColor,!0)){if(s._cardNum==a+1||s._cardNum==a-1){a=s._cardNum,r.push(t.cardArr[i]);continue}return null}return null}return r},t.prototype.tryToSuccessArea=function(e,t,r){for(var o=this,n=function(n){if(13==a.successCardNumArr[n])return"continue";if(r==a.successCardNumArr[n]+1&&(0==a.successCardNumArr[n]&&(a.successCardColorArr[n]=t),t===a.successCardColorArr[n])){var c=1;a._inBatter=!0,a._inBatter&&(a._batterCountDown=1,a._batterNum+=.1,c=a._batterNum>=1?.9:1-a._batterNum),d.default.Instance.playMusic(3,c,!1),a.successCardNumArr[n]++,13==a.successCardNumArr[n]&&cc.tween(a.successArea.children[n]).delay(.12).call(function(){o.successArea.children[n].children[0].active=!0}).start(),e.zIndex=999;var i=s.convetOtherNodeSpaceAR(a.successArea.children[n],a.cardParent);return e.getComponent("Card").moveTo(i,a.successCardNumArr[n]),a.successCardArr[n].push(e),{value:!0}}},a=this,c=0;c<this.successCardNumArr.length;c++){var i=n(c);if("object"==typeof i)return i.value}return!1},t.prototype.touchMove=function(e){var t=s.worldConvertLocalPointAR(this.node,e);if(this.curControlCardArr.length>0)for(var r=0;r<this.curControlCardArr.length;r++){var o=this.curControlCardArr[r];o.zIndex=99+r,0==r?o.setPosition(t):o.setPosition(cc.v2(t.x,t.y-this.curControlCol.offY*r))}},t.prototype.touceEnd=function(e){var t=s.worldConvertLocalPointAR(this.node,e),r=this.curControlCardArr[0],o=r.getComponent("Card");if(this.MainGame.touchMoveFlag){if(null!=this.getSuccessAreaIndex(t)&&1==this.curControlCardArr.length&&this.tryToSuccessArea(r,o._cardColor,o._cardNum))return this.curControlCol?(this.curControlCol.cardArr.pop(),this.colOffChange(this.curControlCol),void this.tryToUnLockInCol(this.curControlCol,0)):(this.dealArr.pop(),void this.openTouchDelay(.12));if((g=this.getTouchCol(t))&&g!==this.curControlCol){if(0==g.cardArr.length){if(13!=o._cardNum)return void this.moveInvalid();if(this.curControlCol){for(var n=0;n<this.curControlCardArr.length;n++){var a=(l=this.curControlCardArr[n]).getComponent("Card");c=cc.v2(g.posX,g.posY-g.offY*g.cardArr.length);a.moveTo(c,g.cardArr.length),g.cardArr.push(l),this.colOffChange(g),this.curControlCol.cardArr.pop(),this.colOffChange(this.curControlCol)}this.tryToUnLockInCol(this.curControlCol,.15)}else{var c=cc.v2(g.posX,g.posY);o.moveTo(c,g.cardArr.length),g.cardArr.push(r),this.colOffChange(g),this.dealArr.pop(),this.openTouchDelay(.12)}return}var i=g.cardArr[g.cardArr.length-1].getComponent("Card");if(this.matchCardColor(o._cardColor,i._cardColor,!0)){if(o._cardNum==i._cardNum-1||o._cardNum==i._cardNum+1){if(this.curControlCol){for(n=0;n<this.curControlCardArr.length;n++){var l;a=(l=this.curControlCardArr[n]).getComponent("Card"),c=cc.v2(g.posX,g.posY-g.offY*g.cardArr.length);a.moveTo(c,g.cardArr.length),g.cardArr.push(l),this.colOffChange(g),this.curControlCol.cardArr.pop(),this.colOffChange(this.curControlCol)}this.tryToUnLockInCol(this.curControlCol,.15)}else{var c=cc.v2(g.posX,g.posY-g.offY*g.cardArr.length);o.moveTo(c,g.cardArr.length),g.cardArr.push(r),this.colOffChange(g),this.dealArr.pop(),this.openTouchDelay(.12)}return}return void this.moveInvalid()}return void this.moveInvalid()}this.moveInvalid()}else if(this.curControlCol){if(1==this.curControlCardArr.length&&this.tryToSuccessArea(r,o._cardColor,o._cardNum))return this.curControlCol.cardArr.pop(),this.colOffChange(this.curControlCol),void this.tryToUnLockInCol(this.curControlCol,0);var h=this.colArr.indexOf(this.curControlCol),d=this.colArr.length,p=Array.from({length:d-0},function(e,t){return t+0});if(u.ArrayTools.rotate(p,d-h),g=this.getColByColorAndNumInArr(o._cardColor,o._cardNum,1,p))return void this.moveToColFromCol(g);if(13==o._cardNum){var m=this.findEmptyCol();if(m)return void this.moveToColFromCol(m)}this.moveInvalid()}else{if(this.tryToSuccessArea(r,o._cardColor,o._cardNum))return this.dealArr.pop(),void this.openTouchDelay(0);var g;if(g=this.getColByColorAndNumInArr(o._cardColor,o._cardNum,0,this.colArr))this.moveToColFromDeal(r,o,g);else{if(13==o._cardNum){var f=this.findEmptyCol();f&&this.moveToColFromDeal(r,o,f)}this.moveInvalid()}}},t.prototype.getSuccessAreaIndex=function(e){return e.y>=this.successArea.y-this.cardSize.height/2-10?1:null},t.prototype.moveToColFromDeal=function(e,t,r){d.default.Instance.playMusic(3,1,!1);var o=cc.v2(r.posX,r.posY-r.offY*r.cardArr.length);e.zIndex=999,t.moveTo(o,r.cardArr.length),r.cardArr.push(e),this.colOffChange(r),this.dealArr.pop(),this.openTouchDelay(.12)},t.prototype.moveToColFromCol=function(e){var t=1;this._inBatter=!0,this._inBatter&&(this._batterCountDown=1,this._batterNum+=.1,t=this._batterNum>=1?.9:1-this._batterNum),d.default.Instance.playMusic(3,t,!1);for(var r=0;r<this.curControlCardArr.length;r++){var o=this.curControlCardArr[r],n=o.getComponent("Card");o.zIndex+=90;var a=cc.v2(e.posX,e.posY-e.offY*e.cardArr.length);n.moveTo(a,e.cardArr.length),e.cardArr.push(o),this.curControlCol.cardArr.pop()}this.colOffChange(e),this.colOffChange(this.curControlCol),this.tryToUnLockInCol(this.curControlCol,.15)},t.prototype.colOffChange=function(e){e.cardArr.length>=12?e.offY=35:e.offY=50,e.offY!=e.lastOffY&&(e.lastOffY=e.offY,cc.tween(this.node).delay(.15).call(function(){for(var t=0;t<e.cardArr.length;t++){var r=e.cardArr[t],o=e.posY-e.offY*t;cc.tween(r).to(.12,{position:cc.v2(e.posX,o)}).start()}}).start())},t.prototype.tryToUnLockInCol=function(e,t){if(this.curControlCol.cardArr.length>0){var r=e.cardArr[e.cardArr.length-1].getComponent("Card");if(!r._canTouch)return r.flopAnim1(.15),void this.openTouchDelay(.32)}this.openTouchDelay(t)},t.prototype.moveInvalid=function(){cc.log("\u79fb\u52a8\u65e0\u6548");for(var e=0;e<this.curControlCardArr.length;e++){this.curControlCardArr[e].getComponent("Card").recovery()}this.openTouchDelay(.15)},t.prototype.getColByColorAndNumInArr=function(e,t,r,o){for(var n=[],a=r;a<o.length;a++){var c=void 0;if((c=1==r?this.colArr[o[a]]:this.colArr[a])!==this.curControlCol&&c.cardArr.length>0)c.cardArr[c.cardArr.length-1].getComponent("Card")._cardNum==t+1&&n.push(c)}for(a=0;a<n.length;a++){if((c=n[a]).cardArr[c.cardArr.length-1].getComponent("Card")._cardColor===e)return c}for(a=0;a<n.length;a++){var i=(c=n[a]).cardArr[c.cardArr.length-1].getComponent("Card");if(this.matchCardColor(e,i._cardColor,!0))return c}n=[];for(a=r;a<o.length;a++){c=void 0;if((c=1==r?this.colArr[o[a]]:this.colArr[a])!==this.curControlCol&&c.cardArr.length>0)c.cardArr[c.cardArr.length-1].getComponent("Card")._cardNum==t-1&&n.push(c)}for(a=0;a<n.length;a++){if((c=n[a]).cardArr[c.cardArr.length-1].getComponent("Card")._cardColor===e)return c}for(a=0;a<n.length;a++){var s=(c=n[a]).cardArr[c.cardArr.length-1].getComponent("Card");if(this.matchCardColor(e,s._cardColor,!0))return c}return null},t.prototype.matchCardColor=function(e,t,r){var o;return r?(e===v.Club?o=v.Spade:e===v.Spade?o=v.Club:e===v.Diamond?o=v.Heart:e===v.Heart&&(o=v.Diamond),t===e||t===o):e===t},t.prototype.findEmptyCol=function(){for(var e=0;e<this.colArr.length;e++)if(this.colArr[e]!=this.curControlCol){var t=this.colArr[e];if(0==t.cardArr.length)return t}return null},t.prototype.gameEnd=function(){var e=this;this._curState!==a.GS_END&&(this.curState=a.GS_END,cc.log("\u6e38\u620f\u7ed3\u675f"),l.GAME_OVER_BOOL=!1,l.gameIsSuccess=!0,this.MainGame.gameScore=this._curTime,d.default.Instance.playMusic(6,1,!1),cc.tween(this.node).delay(.5).call(function(){e.gameOverAnim()}).delay(3.6).call(function(){e.MainGame.gameEnd()}).start())},t.prototype.gameOverAnim=function(){for(var e=0;e<this.successCardArr.length;e++){for(var t,r=this.successCardArr[e],o=function(e){var o=.1*e,a=r[r.length-1-e];a.zIndex=50-e;var c=a.getComponent("Card");c.cardShadowNode.active=!1;var i=cc.v2(0,0);Math.random()>.5?(i.x=s.getRndInteger(50,160,!1),t=1080):(i.x=-s.getRndInteger(50,160,!1),t=-1080),i.y=s.getRndInteger(100,200,!1);var l=cc.v2(0,0);l.x=2*i.x,l.y=-n.MainGame.gameHeight-300;cc.tween(a).delay(o).call(function(){d.default.Instance.playMusic(1,1,!1)}).by(.3,{position:i},{easing:"cubicOut"}).by(2.5,{position:l},{easing:"cubicIn"}).start(),cc.tween(a).delay(o).by(4+2*Math.random(),{angle:t}).start(),cc.tween(a).delay(o).repeat(4,cc.tween().call(function(){c.flopAnim4(!0)}).delay(.3).call(function(){c.flopAnim4(!1)}).delay(.3)).start()},n=this,a=0;a<r.length;a++)o(a);cc.tween(this.successArea.children[e].children[0]).delay(.1*r.length).to(.3,{opacity:0}).start()}},t.prototype.formatTime=function(e){var t,r,o,n,a=Math.floor(e/60),c=e%60;return a>=60&&(t=Math.floor(a/60),r=a%60),o=c<10?"0"+c:c,n=a<10?"0"+a:a,t?t+":"+r+":"+c:n+":"+o},t.prototype.resetPrompt=function(){if(this._promptCountDown=10,!this._canPrompt){if(this._canPrompt=!0,this.curPromptCardArr.length>0)for(var e=0;e<this.curPromptCardArr.length;e++)this.curPromptCardArr[e].getComponent("Card").stopPromptAnim();this.refreshDeckPrompt.stopAllActions(),this.refreshDeckPrompt.active=!1,this.refreshDeckPrompt.opacity=0}this.curPromptCardArr=[]},t.prototype.prompt=function(){this._canPrompt=!1;for(var e=0;e<this.colArr.length;e++){if(0!=(o=this.colArr[e]).cardArr.length){var t=(s=o.cardArr[o.cardArr.length-1]).getComponent("Card");this.canGoToSuccessArea(t._cardColor,t._cardNum)&&t._canTouch&&(t.promptAnim(),this.curPromptCardArr.push(s))}}if(this.dealArr.length>0){var r=(s=this.dealArr[this.dealArr.length-1]).getComponent("Card");this.canGoToSuccessArea(r._cardColor,r._cardNum)&&r._canTouch&&(r.promptAnim(),this.curPromptCardArr.push(s))}for(e=0;e<this.colArr.length;e++)for(var o,n=function(t){var r=o.cardArr[t];if(a.getContinuouCardInCol(r,o)){var n=r.getComponent("Card"),c=a.colArr.length,i=Array.from({length:c-0},function(e,t){return t+0});u.ArrayTools.rotate(i,c-e),a.getColByColorAndNumInArr(n._cardColor,n._cardNum,1,i)&&n._canTouch&&(n.promptAnim(),a.curPromptCardArr.push(r))}},a=this,c=(o=this.colArr[e]).cardArr.length-1;c>0;c--)n(c);if(this.dealArr.length>0){var i=(s=this.dealArr[this.dealArr.length-1]).getComponent("Card");this.getColByColorAndNumInArr(i._cardColor,i._cardNum,0,this.colArr)&&i._canTouch&&(i.promptAnim(),this.curPromptCardArr.push(s))}var s;this.deckArr.length>0?((s=this.deckArr[this.deckArr.length-1]).getComponent("Card").promptAnim(),this.curPromptCardArr.push(s)):this.dealArr.length>0&&(this.refreshDeckPrompt.opacity=0,this.refreshDeckPrompt.active=!0,this.refreshDeckPrompt.setContentSize(this.cardSize.width+10,(this.cardSize.width+10)/.744),this.refreshDeckPrompt.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)))));0==this.curPromptCardArr.length&&0==this.dealArr.length&&this.gameFail()},t.prototype.canGoToSuccessArea=function(e,t){for(var r=0;r<this.successCardNumArr.length;r++)if(13!=this.successCardNumArr[r]&&t==this.successCardNumArr[r]+1&&(0==this.successCardNumArr[r]&&(this.successCardColorArr[r]=e),e===this.successCardColorArr[r]))return!0;return!1},t.prototype.gameFail=function(){var e=this;this._curState!==a.GS_END&&(this.curState=a.GS_END,cc.log("\u6e38\u620f\u5931\u8d25"),l.GAME_OVER_BOOL=!1,l.gameIsSuccess=!1,this.MainGame.gameScore=this._curTime,cc.audioEngine.play(this.MainGame.over,!1,1),cc.tween(this.node).delay(.5).call(function(){e.gameFailAnim()}).delay(2.56).call(function(){e.MainGame.gameEnd()}).start())},t.prototype.gameFailAnim=function(){for(var e=[],t=0;t<this.dealArr.length;t++)e.push(this.dealArr[t]);for(t=0;t<this.deckArr.length;t++)e.push(this.deckArr[t]);for(t=0;t<this.colArr.length;t++)for(var r=this.colArr[t],o=0;o<r.cardArr.length;o++)e.push(r.cardArr[t]);for(t=0;t<this.successCardArr.length;t++){var n=this.successCardArr[t];for(o=0;o<n.length;o++)e.push(n[o])}for(t=0;t<e.length;t++){e[t].getComponent("Card").dropDown()}},t.prototype.update=function(e){if(this._curState==a.GS_PLAYING){this._curTime+=e;var t=this.formatTime(Math.floor(this._curTime));this.MainGame.sceneScore.string=t,this._promptCountDown-=e,this._promptCountDown<=0&&this._canPrompt&&this.prompt(),this._batterCountDown-=e,this._batterCountDown<=0&&this._inBatter&&(this._inBatter=!1,this._batterNum=0)}},t.Instance=null,n([g({type:[cc.SpriteFrame],displayName:"\u6885\u82b1\u7cbe\u7075\u6570\u7ec4"})],t.prototype,"cardClubSpriteFrameArr",void 0),n([g({type:[cc.SpriteFrame],displayName:"\u65b9\u7247\u7cbe\u7075\u6570\u7ec4"})],t.prototype,"cardDiamondSpriteFrameArr",void 0),n([g({type:[cc.SpriteFrame],displayName:"\u7ea2\u6843\u7cbe\u7075\u6570\u7ec4"})],t.prototype,"cardHeartSpriteFrameArr",void 0),n([g({type:[cc.SpriteFrame],displayName:"\u9ed1\u6843\u7cbe\u7075\u6570\u7ec4"})],t.prototype,"cardSpadeSpriteFrameArr",void 0),t=r=n([m],t)}(cc.Component);r.default=A,cc._RF.pop()},{"../ToolScript/ArrayTools":"ArrayTools","../commonJs/GameConfig":"GameConfig","../commonJs/GameTools":"GameTools","./MusicManager":"MusicManager","./PoolManager":"PoolManager"}],MusicManager:[function(e,t,r){"use strict";cc._RF.push(t,"29b70ylQlVLNbeDp3lvsygj","MusicManager");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var a=e("../commonJs/GameConfig"),c=cc._decorator,i=c.ccclass,s=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allMusic=[],t.loopMusicArr=[],t}var r;return o(t,e),r=t,t.prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this},t.prototype.start=function(){},t.prototype.playMusic=function(e,t,r){if(a.canPlayMusic){if(r){var o=cc.audioEngine.play(this.allMusic[e],r,t);return this.loopMusicArr.push(o),this.loopMusicArr.length-1}cc.audioEngine.play(this.allMusic[e],r,t)}},t.prototype.stopMusic=function(e){cc.audioEngine.stop(this.loopMusicArr[e]),this.loopMusicArr.splice(e,1)},t.prototype.pauseMusic=function(e){cc.audioEngine.pause(this.loopMusicArr[e])},t.prototype.resumeMusic=function(e){cc.audioEngine.resume(this.loopMusicArr[e])},t.prototype.stopAllMusic=function(){cc.audioEngine.stopAll()},t.prototype.pauseAllMusic=function(){cc.audioEngine.pauseAll()},t.prototype.resumeAllMusic=function(){cc.audioEngine.resumeAll()},t.Instance=null,n([s({type:cc.AudioClip})],t.prototype,"allMusic",void 0),t=r=n([i],t)}(cc.Component);r.default=l,cc._RF.pop()},{"../commonJs/GameConfig":"GameConfig"}],PoolManager:[function(e,t,r){"use strict";cc._RF.push(t,"1e5c17orU9FKYboWaaUobsX","PoolManager");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allPrefab=[],t.allPrefabMap=null,t.poolMap=null,t}var r;return o(t,e),r=t,t.prototype.onLoad=function(){null!=r.Instance&&r.Instance.isValid&&r.Instance.destroy(),r.Instance=this,this.allPrefabMap=new Map,this.poolMap=new Map;for(var e=0;e<this.allPrefab.length;e++){this.allPrefabMap.set(this.allPrefab[e].name,this.allPrefab[e]),cc.log(this.allPrefab[e].name);var t=new cc.NodePool;this.poolMap.set(this.allPrefab[e].name,t)}},t.Spawn=function(e,t){if(void 0===t&&(t=null),!r.Instance.poolMap.has(e))return cc.warn("no prefab named: "+e),null;var o=r.Instance.poolMap.get(e),n=null;o.size()>0?(n=o.get(),null!=t&&(n.parent=t)):(n=cc.instantiate(r.Instance.allPrefabMap.get(e)),null!=t&&(n.parent=t));var a=n.getComponent("ReusableNode");return null==a?(a=n.addComponent("ReusableNode")).OnUse():a.OnUse(),n},t.Despawn=function(e,t){if(!r.Instance.poolMap.has(e))return cc.log("no prefab named: "+e),null;var o=t.getComponent("ReusableNode");null==o?(o=t.addComponent("ReusableNode")).OnUnuse():o.OnUnuse(),r.Instance.poolMap.get(e).put(t)},t.GetPrefab=function(e){return r.Instance.allPrefabMap.has(e)?r.Instance.allPrefabMap.get(e):(cc.log("no prefab named: "+e),null)},t.Preload=function(e,t){if(r.Instance.poolMap.has(e))for(var o=r.Instance.poolMap.get(e),n=0;n<t;n++){var a=cc.instantiate(r.Instance.allPrefabMap.get(e));o.put(a)}else cc.log("no prefab named: "+e)},t.LoadPrefab=function(e,t){cc.loader.loadRes(e,cc.Prefab,function(e,o){r.Instance.allPrefabMap.set(o.name,o);var n=new cc.NodePool;r.Instance.poolMap.set(o.name,n),t(o)})},t.Instance=null,n([i(cc.Prefab)],t.prototype,"allPrefab",void 0),t=r=n([c],t)}(cc.Component);r.default=s,cc._RF.pop()},{}],ReusableNode:[function(e,t,r){"use strict";cc._RF.push(t,"03c863/lQZMoLGczKRIrSUc","ReusableNode");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.OnUse=function(){this.node.stopAllActions(),this.node.active=!0},t.prototype.OnUnuse=function(){this.node.stopAllActions(),this.node.active=!1},t=n([c],t)}(cc.Component));r.default=i,cc._RF.pop()},{}],Ribbon:[function(e,t,r){"use strict";cc._RF.push(t,"9fc656MHrxPCJia7/r9vf0c","Ribbon");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var a=e("../commonJs/GameTools"),c=cc._decorator,i=c.ccclass,s=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ribbonPre=null,t.ribbonSpriteFrame=[],t.ribbonPool=null,t.ribbonArr=[],t}return o(t,e),t.prototype.onLoad=function(){this.ribbonPool=new cc.NodePool;for(var e=0;e<200;e++){var t=cc.instantiate(this.ribbonPre);t.getComponent(cc.Sprite).spriteFrame=this.ribbonSpriteFrame[a.getRndInteger(0,4,!0)],this.ribbonPool.put(t)}},t.prototype.start=function(){},t.prototype.createRibbon=function(e){for(var t=[[360,0],[-360,0],[360,-71],[-360,-71]],r=0;r<t.length;r++){if(t[r][0]>=0)var o=1;else o=-1;for(var n=0;n<e;n++){var c=null;(c=this.ribbonPool.size()>0?this.ribbonPool.get():cc.instantiate(this.ribbonPre)).parent=this.node,c.setPosition(cc.v2(t[r][0],t[r][1])),c.setScale(a.getRndInteger(.7,1.3,!1)),this.ribbonArr.push(c);var i=c.position,s=i.x+a.getRndInteger(.5*-cc.winSize.width,.05*-cc.winSize.width,!0)*o,l=i.y+a.getRndInteger(100,500,!0),h=cc.v2(i.x+.8*(s-i.x),i.y+.5*(l-i.y)+200);c.runAction(cc.spawn(cc.bezierTo(1,[i,h,cc.v2(s,l)]).easing(cc.easeCircleActionOut()),cc.moveBy(2.8,0,1.5*-cc.winSize.height*a.getRndInteger(8,12,!0)/10).easing(cc.easeCubicActionIn()),cc.moveBy(2.8,a.getRndInteger(-300,0,!0)*o,0),cc.rotateBy(2,a.getRndInteger(360,720,!0)*(2*Math.round(Math.random())-1)),cc.sequence(cc.moveBy(2*(.1*Math.random()+.3),(25*Math.random()+25)*(2*Math.round(Math.random())-1),0),cc.moveBy(2*(.1*Math.random()+.3),(25*Math.random()+25)*(2*Math.round(Math.random())-1),0),cc.moveBy(2*(.1*Math.random()+.3),(25*Math.random()+25)*(2*Math.round(Math.random())-1),0)),cc.sequence(cc.scaleTo(.7,0,1),cc.scaleTo(.7,1,1),cc.scaleTo(.7,0,1),cc.scaleTo(.7,1,1))))}}this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){for(var e=0;e<this.ribbonArr.length;e++)this.ribbonPool.put(this.ribbonArr[e]);this.ribbonArr=[]},this)))},n([s(cc.Prefab)],t.prototype,"ribbonPre",void 0),n([s([cc.SpriteFrame])],t.prototype,"ribbonSpriteFrame",void 0),t=n([i],t)}(cc.Component);r.default=l,cc._RF.pop()},{"../commonJs/GameTools":"GameTools"}],SpriteManager:[function(e,t,r){"use strict";cc._RF.push(t,"98593W0w5xCRLjKhBA+J9Xp","SpriteManager");var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allSpriteFrame=[],t.spriteFrameMap=null,t}var r;return o(t,e),r=t,t.prototype.onLoad=function(){null!=r.Instance&&r.Instance.destroy(),r.Instance=this,this.spriteFrameMap=new Map;for(var e=0;e<this.allSpriteFrame.length;e++){var t=this.allSpriteFrame[e].name.split(".",1);this.spriteFrameMap.set(t[0],this.allSpriteFrame[e])}},t.GetSpriteFrame=function(e){return r.Instance.spriteFrameMap.has(e)?r.Instance.spriteFrameMap.get(e):(cc.warn("no sprite named: "+e),null)},t.LoadSpriteFrame=function(e,t){cc.loader.loadRes(e,cc.Prefab,function(e,o){r.Instance.spriteFrameMap.set(o.name,o),t(o)})},t.Instance=null,n([i(cc.SpriteFrame)],t.prototype,"allSpriteFrame",void 0),t=r=n([c],t)}(cc.Component);r.default=s,cc._RF.pop()},{}],ToolsJs:[function(e,t,r){"use strict";cc._RF.push(t,"8eb19UW+mdM4YMqlqTLtShF","ToolsJs");var o={SpriteFrameJs:null,AudioArrJs:null,setStorage:function(e,t,r){CC_WECHATGAME?wx.setStorage({key:e,data:t}):(r&&(t=JSON.stringify(t)),cc.sys.localStorage.setItem(e,t))},getStorage:function(e,t){if(CC_WECHATGAME)return wx.getStorageSync(e);var r=cc.sys.localStorage.getItem(e);return isNaN(r)||(r=parseInt(r)),"NaN"==r.toString()&&(r=null),t&&null!=r&&(r=JSON.parse(r)),r},logJsonObject:function(e){console.log(JSON.stringify(e))},loadJson:function(e,t){},writeJson:function(e,t){if(cc.sys.isBrowser){console.log("\u6d4f\u89c8\u5668");var r=new Blob([e],{type:"application/json"}),o=document.createElement("a");o.download=t,o.innerHTML="Download File",null!=window.webkitURL?o.href=window.webkitURL.createObjectURL(r):(o.href=window.URL.createObjectURL(r),o.onclick=destroyClickedElement,o.style.display="none",document.body.appendChild(o)),o.click()}},addNoArr:function(e,t){return e.indexOf(t)<0&&(e.push(t),!0)},newSprite:function(e){if(null!=this.SpriteFrameJs.getSpriteFrame(e)){var t=new cc.Node;return t.addComponent(cc.Sprite).spriteFrame=this.SpriteFrameJs.getSpriteFrame(e),t}return null},setTexture:function(e,t){e.getComponent(cc.Sprite).spriteFrame=this.SpriteFrameJs.getSpriteFrame(t)},clonePrefabs:function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=this.PrefabArrJs.getPrefabs(e);if(null!=n){var a=cc.instantiate(n);return null!=t&&t.addChild(a,o),null!=r&&(a.position=r),a}return console.log("\u514b\u9686\u9884\u5236\u4f53\u5931\u8d25:"+e),null},newLabel:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=new cc.Node;c.anchorX=o,c.anchorY=n;var i=c.addComponent(cc.Label);return i.string=e,i.fontSize=r,t.addChild(c,a),c},playAudio:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return null!=this.AudioArrJs?this.AudioArrJs.playAudio(e,t,r):cc.audioEngine.play(cc.url.raw("resources/music/"+e+".mp3"),r,t)},stopAudio:function(e){null!=e&&cc.audioEngine.stop(e)},newAduioSource:function(e){var t;if(null!=this.AudioArrJs)t=this.AudioArrJs.getAudioClip(e);else{if(null==e)return console.log("clip\u4e0d\u80fd\u4e3a\u7a7a\uff01"),null;t=e}var r=new cc.Node;return r.addComponent(cc.AudioSource).clip=t,r.getComponent(cc.AudioSource)},delayTimeCall:function(e,t,r,o){e.runAction(cc.sequence(cc.delayTime(r),cc.callFunc(t,o)))},getDistance:function(e,t){return e.sub(t).mag()},getToNodePos:function(e,t){var r=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(r)},getToWorldPosAR:function(e){return e.parent.convertToWorldSpaceAR(e.position)},getToWorldPos:function(e){return e.parent.convertToWorldSpace(e.position)},isBoxContainPos:function(e,t){return e.getBoundingBox().contains(t)},isBoxContainWorldPos:function(e,t){return e.getBoundingBoxToWorld().contains(t)},isRectInterRect:function(e,t){return e.getBoundingBoxToWorld().intersects(t.getBoundingBoxToWorld())},returnRandom:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}};window.ToolsJs=o,cc._RF.pop()},{}],UIManager:[function(e,t,r){"use strict";cc._RF.push(t,"b1cf83DTC9Fd4n4Be2sz1Oz","UIManager");var o=e("GameUiTools"),n=e("MainManage"),a=(e("LoadSceneJs"),e("GameConfig"));e("GameData"),e("GameTools");cc.Class({extends:cc.Component,properties:{mainGame:cc.Node,ribbon:cc.Node,scoreBox:cc.Node,startGamePlanel:cc.Node,Particale:cc.Node,FloatScore:cc.Node,maskFloor:cc.Node,gameOverInfo:cc.Node,gameOverPanel:cc.Node,continue:cc.Node,hand:cc.Node,gameSuccessPanel:cc.Node,di:cc.Node,guan:cc.Node,leftBlackMask:cc.Node,rightBlackMask:cc.Node,info:cc.Node,jb:cc.Node,button:cc.Node,handSpriteFrame:[cc.SpriteFrame],lv:cc.Label,gameMaxScore:cc.Label,overInfoT:cc.Label,score:cc.Label,moreBtn:cc.Button},onLoad:function(){this.MainGame=this.mainGame.getComponent("MainGameJS"),this.Ribbon=this.ribbon.getComponent("Ribbon"),this.handSprite=this.hand.getComponent(cc.Sprite),this.scoreBox.y=this.MainGame.gameHeight/2-45,this.scaleHeight=this.MainGame.gameHeight/1280,this.leftBlackMask.x=-this.MainGame.gameWidth/2,this.rightBlackMask.x=this.MainGame.gameWidth/2,this.gameSuccessPanel.y=this.MainGame.gameHeight/2+145,this.moreBtn.node.x=-this.MainGame.gameWidth/2+80,this.moreBtn.node.y=this.MainGame.gameHeight/2-90,this.score.node.y=300*this.scaleHeight,this.info.y=160*this.scaleHeight,this.button.y=-300*this.scaleHeight,this.standardScore=a.standScore,this.canNotTouch=!0,this.game_max_score=60,this.over=!1,this.percent=0,this.gameOverInfo1StringArr=["\u6e38  \u620f  \u7ed3  \u675f","\u904a  \u6232  \u7d50  \u675f","Game Over","\uac8c\uc784 \ub05d"],this.gameOverInfo2StringArr=["\u70b9 \u51fb \u67e5 \u770b \u5206 \u6570","\u9ede \u64ca \u67e5 \u770b \u5206 \u6578","Click to view points","\ud3ec\uc778\ud2b8\ub97c \ubcf4\ub824\uba74 \ud074\ub9ad\ud558\uc138\uc694"],this.gameSuccessTitleStringArr=["\u606d \u559c \u4f60 \u5df2 \u7a81 \u7834","\u606d \u559c \u4f60 \u5df2 \u7a81 \u7834","Level Up","\ub808\ubca8 \uc5c5"],this.gameSuccessUintStringArr=["\u5206","\u5206","P","\ubd84"],this.continueStringArr=["\u70b9\u51fb\u7ee7\u7eed","\u9ede\u64ca\u7e7c\u7e8c","Click to continue","\uacc4\uc18d\ud558\ub824\uba74 \ud074\ub9ad\ud558\uc138\uc694"],this.moreGameStringArr=["\u66f4\u591a\u6e38\u620f","\u66f4\u591a\u904a\u6232","More Game","\ub354 \ub9ce\uc740 \uac8c\uc784"],this.maxScoreStringArr=["\u6700\u9ad8\u5f97\u5206\uff1a","\u6700\u9ad8\u5f97\u5206\uff1a","Highest score:","\ucd5c\uace0 \uc810\uc218 :"],this.langNumType=this.returnCurrentLanType(),this.continue.getComponent(cc.Label).string=this.continueStringArr[this.langNumType-1],this.gameOverInfo.children[0].getComponent(cc.Label).string=this.gameOverInfo1StringArr[this.langNumType-1],this.gameOverInfo.children[1].getComponent(cc.Label).string=this.gameOverInfo2StringArr[this.langNumType-1],this.addClickBtns()},start:function(){},beginnerHandAction:function(e,t,r){this.hand.setPosition(cc.v2(e.x+40,e.y-30)),this.hand.active=!0,a.noTouchBool=!0,this.hand.stopAllActions(),1==t?this.hand.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.handSprite.spriteFrame=this.handSpriteFrame[1]},this),cc.delayTime(.5),cc.callFunc(function(){this.handSprite.spriteFrame=this.handSpriteFrame[0]},this)))):(this.handSprite.spriteFrame=this.handSpriteFrame[0],this.hand.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.3),cc.moveTo(.7,cc.v2(r.x+40,r.y-30)),cc.delayTime(.3),cc.callFunc(function(){this.hand.setPosition(cc.v2(e.x+40,e.y-30))},this)))))},beginnerOverAction:function(){this.hand.stopAllActions(),this.hand.active=!1,this.handSprite.spriteFrame=this.handSpriteFrame[0]},returnCurrentLanType:function(){var e=1;switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:"zh-TW"==window.navigator.language||"zh-tw"==window.navigator.language||"zh-HK"==window.navigator.language||"zh-hk"==window.navigator.language?(cc.log("\u7e41\u4f53"),e=2):(cc.log("\u7b80\u4f53"),e=1);break;case cc.sys.LANGUAGE_KOREAN:e=4;break;default:e=3}return e},addTouchEvents:function(){var e=this,t={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,r){if(!e.canNotTouch)return e.MainGame.gameOver&&o.loadingScene("MainGameScene"),!0},onTouchMoved:function(e,t){},onTouchEnded:function(e,t){}};cc.eventManager.addListener(t,e.node)},initGameSuccessPanel:function(){this.gameSuccessPanel.y=this.MainGame.gameHeight/2+416,this.gameSuccessPanel.opacity=0,this.gameSuccessPanel.active=!1,this.continue.stopAllActions(),this.continue.active=!1,this.continue.opacity=255,this.maskFloor.active=!1},gameSuccessAction:function(){this.maskFloor.active=!0,this.MainGame.sceneScore.node.active=!1,this.lv.string=this.MainGame.gameScore.toString(),this.MainGame.gameScore>=10&&this.MainGame.gameScore<100?(this.di.x=-95,this.guan.x=95):this.MainGame.gameScore>=100&&this.MainGame.gameScore<1e3?(this.di.x=-115,this.guan.x=115):this.MainGame.gameScore>=1e3&&this.MainGame.gameScore<1e4?(this.di.x=-135,this.guan.x=135):this.MainGame.gameScore>=1e4&&this.MainGame.gameScore<1e5?(this.di.x=-155,this.guan.x=155):this.MainGame.gameScore>=1e5&&this.MainGame.gameScore<1e6?(this.di.x=-180,this.guan.x=180):this.MainGame.gameScore>=1e6&&(this.di.x=-200,this.guan.x=200),this.gameSuccessPanel.active=!0,this.gameSuccessPanel.runAction(cc.sequence(cc.spawn(cc.fadeIn(.2),cc.moveTo(.2,cc.v2(0,50))),cc.moveTo(.1,cc.v2(0,110)),cc.moveTo(.1,cc.v2(0,100)),cc.callFunc(function(){this.continue.active=!0,this.continue.setPosition(cc.v2(0,-150)),this.continue.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(.7,50),cc.fadeTo(.7,255)))),this.canNotTouch=!1},this)))},gameOver:function(){this.maskFloor.active=!0,this.scoreBox.runAction(cc.moveBy(.7,cc.v2(0,300)).easing(cc.easeBackIn())),this.gameOverInfo.active=!0,this.gameOverInfo.runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.fadeIn(1),cc.moveBy(1,0,-50)),cc.callFunc(function(){this.gameOverInfo.children[1].runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.3,1),cc.delayTime(.5)))),this.canNotTouch=!1},this)))},gameOverAction:function(){this.over||(this.over=!0,this.score.string=this.MainGame.MapCon.formatTime(Math.floor(this.MainGame.gameScore)),this.gameMaxScore.string=this.MainGame.MapCon.formatTime(Math.floor(a.gameMaxScore)),this.UIPosChange(),this.gameOverPanel.active=!0,this.gameOverPanel.runAction(cc.sequence(cc.fadeIn(.2),cc.callFunc(function(){var e=this;this.canNotTouch=!1;var t=1-this.percent/100,r=this.percent/100;cc.tween(this.button.children[0].getComponent(cc.Sprite)).to(r,{fillRange:t}).call(function(){e.button.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.3,1),cc.delayTime(1))))}).start();var o=0,n=0,a=this.percent>=50?50:this.percent;this.overInfoT.node.runAction(cc.sequence(cc.callFunc(function(){if(o>=a-1)switch(this.langNumType){case 1:this.overInfoT.string="\u51fb\u8d25\u4e86\u5168\u7403"+this.percent.toString()+"%\u7684\u73a9\u5bb6";break;case 2:this.overInfoT.string="\u64ca\u6557\u4e86\u5168\u7403"+this.percent.toString()+"%\u7684\u73a9\u5bb6";break;case 3:this.overInfoT.string="Defeated "+this.percent.toString()+"% of players worldwide!";break;case 4:this.overInfoT.string="\uc804 \uc138\uacc4 \ud50c\ub808\uc774\uc5b4 "+this.percent.toString()+"%\ub97c \ubb3c\ub9ac \ucce4\uc2b5\ub2c8\ub2e4!"}else switch(n++,this.langNumType){case 1:this.overInfoT.string="\u51fb\u8d25\u4e86\u5168\u7403"+n.toString()+"%\u7684\u73a9\u5bb6";break;case 2:this.overInfoT.string="\u64ca\u6557\u4e86\u5168\u7403"+n.toString()+"%\u7684\u73a9\u5bb6";break;case 3:this.overInfoT.string="Defeated "+n.toString()+"% of players worldwide!";break;case 4:this.overInfoT.string="\uc804 \uc138\uacc4 \ud50c\ub808\uc774\uc5b4 "+n.toString()+"%\ub97c \ubb3c\ub9ac \ucce4\uc2b5\ub2c8\ub2e4!"}o++},this),cc.delayTime(.01)).repeat(a))},this))))},addClickBtns:function(){var e=this;e.moreBtn.node.on(cc.Node.EventType.TOUCH_START,function(e){}),e.moreBtn.node.on(cc.Node.EventType.TOUCH_END,function(e){console.log("MoreGame"),window.location.href=n.moreGameUrl}),e.gameSuccessPanel.on(cc.Node.EventType.TOUCH_START,function(e){}),e.gameSuccessPanel.on(cc.Node.EventType.TOUCH_END,function(t){e.canNotTouch||(a.noTouchBool=!0,e.canNotTouch=!0,a.publicGameBool||adBreak({type:"next",name:"restart-game"}),e.initGameSuccessPanel())}),e.gameOverInfo.on(cc.Node.EventType.TOUCH_START,function(e){}),e.gameOverInfo.on(cc.Node.EventType.TOUCH_END,function(t){e.canNotTouch||(a.publicGameBool||adBreak({type:"next",name:"restart-game"}),e.gameOverAction(),e.gameOverInfo.destroy())}),e.gameOverPanel.on(cc.Node.EventType.TOUCH_START,function(e){}),e.gameOverPanel.on(cc.Node.EventType.TOUCH_END,function(t){e.canNotTouch||(a.publicGameBool||adBreak({type:"next",name:"restart-game"}),a.playNum++,o.loadingScene("MainGameScene"))})},UIPosChange:function(){console.log("lang",n.langugeType);var e=null,t=null;1==n.langugeType?(e=this.getContentByScore(a.gameScore,n.gameNameText,!0),t=this.getContentByScore(a.gameScore,n.gameNameText,!1)):(e=this.getContentByScore2(a.gameScore,n.gameNameText,!0),t=this.getContentByScore(a.gameScore,n.gameNameText,!1)),console.log("nihao",n.endHttpShowInfo),null!=n.endHttpShowInfo&&""!=n.endHttpShowInfo&&(cc.log("gototo"),t=n.endHttpShowInfo),this.overInfoT.string=e,document.title=t},getPercent:function(e){var t=0;return e>=320?(t=5+Math.ceil(15*Math.random()),this.sty=1):e>=260?(t=20+Math.ceil(25*Math.random()),this.sty=2):e>=220?(t=45+Math.ceil(35*Math.random()),this.sty=3):e>=180?(t=80+Math.ceil(5*Math.random()),this.sty=4):e>=140?(t=85+Math.ceil(5*Math.random()),this.sty=5):e>=120?(t=90+Math.ceil(9*Math.random()),this.sty=6):(t=100,this.sty=7),a.gameIsSuccess?t:(this.sty=1,0)},getContentByScore:function(e,t,r){var o="\u6211\u771f\u662f\u592a\u5389\u5bb3\uff0c\u5728"+t+"\u4e2d\u7adf\u7136\u5f97\u4e860\u5206\uff0c\u5168\u7403\u53ea\u67091\u4e2a\u4eba\u5f970\u5206\uff01",n="\u51fb\u8d25\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01",c=parseInt(.6*this.standardScore),i=parseInt(1.5*this.standardScore),s=parseInt(2.5*this.standardScore),l=parseInt(4*this.standardScore),h=Math.floor(a.gameScore),u=Math.floor(h/60),d=h%60;d<10&&(d="0"+d),u<10&&(u="0"+u);var p=this.getPercent(h);if(this.percent=p,1==this.sty){p=Math.floor(10*e/c);o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u5f97\u5fc3\u5e94\u624b!",n="\u51fb\u8d25\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else if(2==this.sty){Math.floor(15*(e-this.standardScore)/(c-this.standardScore));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u8fbe\u5230\u6e38\u5203\u6709\u4f59\u7684\u5883\u754c\uff01",n="\u51fb\u8d25\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else if(3==this.sty){Math.floor(20*(e-this.standardScore)/(i-this.standardScore));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u51fb\u8d25\u4e86\u5168\u7403"+this.percent+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u4fe1\u624b\u62c8\u6765\u7684\u5883\u754c\uff01",n="\u51fb\u8d25\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else if(4==this.sty){Math.floor(30*(e-i)/(s-i));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u51fb\u8d25\u4e86\u5168\u7403"+this.percent+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u8fd0\u7528\u81ea\u5982\u7684\u5883\u754c\uff01",n="\u51fb\u8d25\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else if(5==this.sty){Math.floor(10*(e-s)/(l-s));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u51fb\u8d25\u4e86\u5168\u740399%\u7684\u73a9\u5bb6\uff0c\u8fbe\u5230\u4e86\u884c\u4e91\u6d41\u6c34\u7684\u5883\u754c\uff01",n="\u51fb\u8d25\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else if(6==this.sty){Math.ceil(17*(e-l)/(this.game_max_score-l));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u636e\u8bf4\u5168\u7403\u53ea\u6709 "+Math.ceil(2+28*Math.random())+"\u4e2a\u4eba\u8fbe\u5230\u8fd9\u4e2a\u6c34\u5e73\uff0c\u72ec\u5b64\u6c42\u8d25\uff01",n="\u51fb\u8d25\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else 7==this.sty&&(o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u8d85\u8d8a\u4e86\u72ec\u5b64\u6c42\u8d25\uff0c\u5fc3\u6709\u7075\u7280\uff01",n="\u51fb\u8d25\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01");return r?n:o},getContentByScore2:function(e,t,r){var o="I'm awesome\uff0cin"+t+"get 0 score\uff0conly one person in the world has a 0\uff01",n="Only 0 points, the only one in the world!",c=parseInt(.6*this.standardScore),i=parseInt(1.5*this.standardScore),s=parseInt(2.5*this.standardScore),l=parseInt(4*this.standardScore),h=Math.floor(a.gameScore),u=Math.floor(h/60),d=h%60;d<10&&(d="0"+d),u<10&&(u="0"+u);var p=this.getPercent(h);if(this.percent=p,1==this.sty){p=Math.floor(10*e/c);o="I used "+u+" minutes and "+d+" seconds in the game, really great\uff01",n="Defeated 0% of players worldwide!"}else if(2==this.sty){Math.floor(15*(e-this.standardScore)/(c-this.standardScore));o="I used "+u+" minutes and "+d+" seconds in the game, really great\uff01",n="Defeated 0% of players worldwide!"}else if(3==this.sty){Math.floor(20*(e-this.standardScore)/(i-this.standardScore));o="I used "+u+" minutes and "+d+" seconds, beating out "+this.percent+"% of global players\uff01",n="Defeated 0% of players worldwide!"}else if(4==this.sty){Math.floor(30*(e-i)/(s-i));o="I used "+u+" minutes and "+d+" seconds, beating out "+this.percent+"% of global players\uff01",n="Defeated 0% of players worldwide!"}else if(5==this.sty){Math.floor(10*(e-s)/(l-s));o="I used "+u+" minutes and "+d+" seconds, beating out 99% of global players\uff01",n="Defeated 0% of players worldwide!"}else if(6==this.sty){Math.ceil(17*(e-l)/(this.game_max_score-l));o="I used "+u+" minutes and "+d+" seconds in the game, it said to be the world's only "+Math.ceil(2+28*Math.random())+" people to reach this level! Have you?",n="Defeated 0% of players worldwide!"}else 7==this.sty&&(o="I used "+u+" minutes and "+d+" seconds in the game, defeating all players worldwide, waiting for you to fight!",n="Defeated 0% of players worldwide!");return r?n:o},getContentByScore3:function(e,t,r){var o="\u6211\u771f\u662f\u592a\u5389\u5bb3\uff0c\u5728"+t+"\u4e2d\u7adf\u7136\u5f97\u4e860\u5206\uff0c\u5168\u7403\u53ea\u67091\u4e2a\u4eba\u5f970\u5206\uff01",n="\u64ca\u6557\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01",c=parseInt(.6*this.standardScore),i=parseInt(1.5*this.standardScore),s=parseInt(2.5*this.standardScore),l=parseInt(4*this.standardScore),h=Math.floor(a.gameScore),u=Math.floor(h/60),d=h%60;d<10&&(d="0"+d),u<10&&(u="0"+u);var p=this.getPercent(h);if(this.percent=p,1==this.sty){p=Math.floor(10*e/c);o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u5f97\u5fc3\u5e94\u624b!",n="\u64ca\u6557\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else if(2==this.sty){Math.floor(15*(e-this.standardScore)/(c-this.standardScore));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u8fbe\u5230\u6e38\u5203\u6709\u4f59\u7684\u5883\u754c\uff01",n="\u64ca\u6557\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else if(3==this.sty){Math.floor(20*(e-this.standardScore)/(i-this.standardScore));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u51fb\u8d25\u4e86\u5168\u7403"+this.percent+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u4fe1\u624b\u62c8\u6765\u7684\u5883\u754c\uff01",n="\u64ca\u6557\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else if(4==this.sty){Math.floor(30*(e-i)/(s-i));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u51fb\u8d25\u4e86\u5168\u7403"+this.percent+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u8fd0\u7528\u81ea\u5982\u7684\u5883\u754c\uff01",n="\u64ca\u6557\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else if(5==this.sty){Math.floor(10*(e-s)/(l-s));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u51fb\u8d25\u4e86\u5168\u740399%\u7684\u73a9\u5bb6\uff0c\u8fbe\u5230\u4e86\u884c\u4e91\u6d41\u6c34\u7684\u5883\u754c\uff01",n="\u64ca\u6557\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else if(6==this.sty){Math.ceil(17*(e-l)/(this.game_max_score-l));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u636e\u8bf4\u5168\u7403\u53ea\u6709 "+Math.ceil(2+28*Math.random())+"\u4e2a\u4eba\u8fbe\u5230\u8fd9\u4e2a\u6c34\u5e73\uff0c\u72ec\u5b64\u6c42\u8d25\uff01",n="\u64ca\u6557\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01"}else 7==this.sty&&(o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u8d85\u8d8a\u4e86\u72ec\u5b64\u6c42\u8d25\uff0c\u5fc3\u6709\u7075\u7280\uff01",n="\u64ca\u6557\u4e86\u5168\u74030%\u7684\u73a9\u5bb6\uff01");return r?n:o},getContentByScore4:function(e,t,r){var o="\u6211\u771f\u662f\u592a\u5389\u5bb3\uff0c\u5728"+t+"\u4e2d\u7adf\u7136\u5f97\u4e860\u5206\uff0c\u5168\u7403\u53ea\u67091\u4e2a\u4eba\u5f970\u5206\uff01",n="\uc804 \uc138\uacc4 \ud50c\ub808\uc774\uc5b4 0%\ub97c \ubb3c\ub9ac \ucce4\uc2b5\ub2c8\ub2e4!",c=parseInt(.6*this.standardScore),i=parseInt(1.5*this.standardScore),s=parseInt(2.5*this.standardScore),l=parseInt(4*this.standardScore),h=Math.floor(a.gameScore),u=Math.floor(h/60),d=h%60;d<10&&(d="0"+d),u<10&&(u="0"+u);var p=this.getPercent(h);if(this.percent=p,1==this.sty){p=Math.floor(10*e/c);o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u5f97\u5fc3\u5e94\u624b!",n="\uc804 \uc138\uacc4 \ud50c\ub808\uc774\uc5b4 0%\ub97c \ubb3c\ub9ac \ucce4\uc2b5\ub2c8\ub2e4!"}else if(2==this.sty){Math.floor(15*(e-this.standardScore)/(c-this.standardScore));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u8fbe\u5230\u6e38\u5203\u6709\u4f59\u7684\u5883\u754c\uff01",n="\uc804 \uc138\uacc4 \ud50c\ub808\uc774\uc5b4 0%\ub97c \ubb3c\ub9ac \ucce4\uc2b5\ub2c8\ub2e4!"}else if(3==this.sty){Math.floor(20*(e-this.standardScore)/(i-this.standardScore));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u51fb\u8d25\u4e86\u5168\u7403"+this.percent+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u4fe1\u624b\u62c8\u6765\u7684\u5883\u754c\uff01",n="\uc804 \uc138\uacc4 \ud50c\ub808\uc774\uc5b4 0%\ub97c \ubb3c\ub9ac \ucce4\uc2b5\ub2c8\ub2e4!"}else if(4==this.sty){Math.floor(30*(e-i)/(s-i));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u51fb\u8d25\u4e86\u5168\u7403"+this.percent+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u8fd0\u7528\u81ea\u5982\u7684\u5883\u754c\uff01",n="\uc804 \uc138\uacc4 \ud50c\ub808\uc774\uc5b4 0%\ub97c \ubb3c\ub9ac \ucce4\uc2b5\ub2c8\ub2e4!"}else if(5==this.sty){Math.floor(10*(e-s)/(l-s));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u51fb\u8d25\u4e86\u5168\u740399%\u7684\u73a9\u5bb6\uff0c\u8fbe\u5230\u4e86\u884c\u4e91\u6d41\u6c34\u7684\u5883\u754c\uff01",n="\uc804 \uc138\uacc4 \ud50c\ub808\uc774\uc5b4 0%\ub97c \ubb3c\ub9ac \ucce4\uc2b5\ub2c8\ub2e4!"}else if(6==this.sty){Math.ceil(17*(e-l)/(this.game_max_score-l));o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u636e\u8bf4\u5168\u7403\u53ea\u6709 "+Math.ceil(2+28*Math.random())+"\u4e2a\u4eba\u8fbe\u5230\u8fd9\u4e2a\u6c34\u5e73\uff0c\u72ec\u5b64\u6c42\u8d25\uff01",n="\uc804 \uc138\uacc4 \ud50c\ub808\uc774\uc5b4 0%\ub97c \ubb3c\ub9ac \ucce4\uc2b5\ub2c8\ub2e4!"}else 7==this.sty&&(o="\u6211\u5728"+t+"\u4e2d\u7528\u4e86"+u+"\u5206"+d+"\u79d2\uff0c\u8d85\u8d8a\u4e86\u72ec\u5b64\u6c42\u8d25\uff0c\u5fc3\u6709\u7075\u7280\uff01",n="\uc804 \uc138\uacc4 \ud50c\ub808\uc774\uc5b4 0%\ub97c \ubb3c\ub9ac \ucce4\uc2b5\ub2c8\ub2e4!");return r?n:o},update:function(e){}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools",LoadSceneJs:"LoadSceneJs",MainManage:"MainManage"}],gameOverJs:[function(e,t,r){"use strict";cc._RF.push(t,"3621brbM61BsYFG7fM/74TL","gameOverJs");var o=e("GameUiTools"),n=e("GameConfig"),a=e("MainManage");cc.Class({extends:cc.Component,properties:{bgLayer:cc.Node,scoreBg:cc.Node,overScoreT:cc.Label,overInfoT:cc.Label,moreBtn:cc.Button,leftBtn:cc.Button,rightBtn:cc.Button,midGameText:cc.Label,leftBtnText:cc.Label,rightBtnText:cc.Label,maxScoreText:cc.Label},onLoad:function(){this.bgLayer.color=cc.color("#68b951"),this.standardScore=n.standScore,this.game_max_score=200,this.rigthBtnGameName=null,this.rightBtnGameUrl=null,this.UIPosChange(),this.addClickBtns();var e="\u6700\u9ad8\u7eaa\u5f55:",t=this.returnCurrentLanType();e=1==t?"\u6700\u9ad8\u7eaa\u5f55:":2==t?"\u6700\u9ad8\u7d00\u9304:":4==t?"\ucd5c\uace0 \uae30\ub85d:":"Highest Record:";var r=n.gameScore,o=this.getHighScore();o?o<n.gameScore&&(this.setHisSocre(n.gameScore),o=n.gameScore):(this.setHisSocre(n.gameScore),o=r),this.maxScoreText.string=e+o},returnCurrentLanType:function(){var e=1;switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:"zh-TW"==window.navigator.language||"zh-tw"==window.navigator.language||"zh-HK"==window.navigator.language||"zh-hk"==window.navigator.language?(cc.log("\u7e41\u4f53"),e=2):(cc.log("\u7b80\u4f53"),e=1);break;case cc.sys.LANGUAGE_KOREAN:e=4;break;default:e=3}return e},setHisSocre:function(e){cc.sys.localStorage.setItem("HigScore_JiaoTong",e)},getHighScore:function(){return cc.sys.localStorage.getItem("HigScore_JiaoTong")},UIPosChange:function(){this.overScoreT.string=n.gameScore,console.log("lang",a.langugeType);var e=null;e=1==a.langugeType?this.getContentByScore(n.gameScore,a.gameNameText):this.getContentByScore2(n.gameScore,a.gameNameText),console.log("nihao",a.endHttpShowInfo),null!=a.endHttpShowInfo&&""!=a.endHttpShowInfo&&(cc.log("gototo"),e=a.endHttpShowInfo),this.overInfoT.string=e;var t=this.overInfoT.node.height;if(this.overInfoT.node.height=Math.ceil(e.length*this.overInfoT.fontSize/this.overInfoT.node.width)*t,document.title=e,console.log("gameOver txtMoreText",a.txtMoreText),this.midGameText.string=a.txtMoreText,this.leftBtnText.string=a.txtAgainText,this.tempArr=this.gameFocus(),null!=a.ranLinkUrl()){var r=a.ranLinkUrl(),o=a.ranLinkData.gameList[r].gameName;this.rigthBtnGameName=o,this.rightBtnGameUrl=a.ranLinkData.gameList[r].gameUrl}null!=this.rigthBtnGameName&&""!=this.rigthBtnGameName?this.rightBtnText.string=this.rigthBtnGameName:this.rightBtnText.string=this.tempArr[0]},gameFocus:function(){var e=[],t=null,r=null;return Math.random()<=.5?(t=a.gameEndName1,r=a.gameEndUrl1):(t=a.gameEndName2,r=a.gameEndUrl2),e.push(t),e.push(r),e},addClickBtns:function(){var e=this;e.moreBtn.node.on(cc.Node.EventType.TOUCH_START,function(e){}),e.moreBtn.node.on(cc.Node.EventType.TOUCH_END,function(e){console.log("MoreGame"),window.location.href=a.moreGameUrl}),e.leftBtn.node.on(cc.Node.EventType.TOUCH_START,function(e){}),e.leftBtn.node.on(cc.Node.EventType.TOUCH_END,function(e){n.GAME_OVER_BOOL=!0,n.gameScore=0,o.loadingScene("MainGameScene")}),e.rightBtn.node.on(cc.Node.EventType.TOUCH_START,function(e){}),e.rightBtn.node.on(cc.Node.EventType.TOUCH_END,function(t){var r=null;r=null!=e.rightBtnGameUrl&&""!=e.rightBtnGameUrl?e.rightBtnGameUrl:e.tempArr[1],window.location.href=r})},getContentByScore:function(e,t){var r="\u6211\u771f\u662f\u592a\u5389\u5bb3\uff0c\u5728"+t+"\u4e2d\u7adf\u7136\u5f97\u4e861\u5206\uff0c\u5168\u7403\u53ea\u67091\u4e2a\u4eba\u5f971\u5206\uff01",o=parseInt(.3*this.standardScore),n=parseInt(1.5*this.standardScore),a=parseInt(2.5*this.standardScore),c=parseInt(4*this.standardScore);if(e>0&&e<=o)r="\u6211\u5728"+t+"\u4e2d\u5f97\u4e86"+e+"\u5206\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u8fbe\u5230\u6e38\u5203\u6709\u4f59\u7684\u5883\u754c\uff01";else if(e>o&&e<=this.standardScore)r="\u6211\u5728"+t+"\u4e2d\u5f97\u4e86"+e+"\u5206\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u8fbe\u5230\u6e38\u5203\u6709\u4f59\u7684\u5883\u754c\uff01";else if(e>this.standardScore&&e<=n){r="\u6211\u5728"+t+"\u4e2d\u5f97\u4e86"+e+"\u5206\uff0c\u51fb\u8d25\u4e86\u5168\u7403"+(Math.floor(12*(e-this.standardScore)/(n-this.standardScore))+80)+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u4fe1\u624b\u62c8\u6765\u7684\u5883\u754c\uff01"}else if(e>n&&e<=a){r="\u6211\u5728"+t+"\u4e2d\u5f97\u4e86"+e+"\u5206\uff0c\u51fb\u8d25\u4e86\u5168\u7403"+(Math.floor(7*(e-n)/(a-n))+92)+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u8fd0\u7528\u81ea\u5982\u7684\u5883\u754c\uff01"}else if(e>a&&e<=c)r="\u6211\u5728"+t+"\u4e2d\u5f97\u4e86"+e+"\u5206\uff0c\u51fb\u8d25\u4e86\u5168\u740399%\u7684\u73a9\u5bb6\uff0c\u8fbe\u5230\u4e86\u884c\u4e91\u6d41\u6c34\u7684\u5883\u754c\uff01";else if(e>c&&e<this.game_max_score){r="\u6211\u5728"+t+"\u4e2d\u5f97\u4e86"+e+"\u5206\uff0c\u636e\u8bf4\u5168\u7403\u53ea\u6709 "+(20-Math.ceil(17*(e-c)/(this.game_max_score-c)))+"\u4e2a\u4eba\u8fbe\u5230\u8fd9\u4e2a\u6c34\u5e73\uff0c\u72ec\u5b64\u6c42\u8d25\uff01"}else e>=this.game_max_score&&(r="\u6211\u5728"+t+"\u4e2d\u5f97\u4e86"+e+"\u5206\uff0c\u8d85\u8d8a\u4e86\u72ec\u5b64\u6c42\u8d25\uff0c\u5fc3\u6709\u7075\u7280\uff01");return r},strlen:function(e){for(var t=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o>=1&&o<=126||65376<=o&&o<=65439?t++:t+=2}return t},getContentByScore2:function(e,t){var r="I'm awesome\uff0cin"+t+"get 0 score\uff0conly one person in the world has a 0\uff01",o=parseInt(.3*this.standardScore),n=parseInt(1.5*this.standardScore),a=parseInt(2.5*this.standardScore),c=parseInt(4*this.standardScore);if(e>=this.game_max_score)r="I got "+e+" points in the game, defeating all players worldwide, waiting for you to fight!";else if(e>0&&e<=o)r="I got "+e+" points in the game, really great\uff01";else if(e>o&&e<=this.standardScore)r="I got "+e+" points in the game, really great\uff01";else if(e>this.standardScore&&e<=n){r="I got in the game in "+e+" points, beating out "+(Math.floor(12*(e-this.standardScore)/(n-this.standardScore))+80)+"% of global players\uff01"}else if(e>n&&e<=a){r="I got in the game in "+e+" points, beating out "+(Math.floor(7*(e-n)/(a-n))+92)+"% of global players\uff01"}else if(e>a&&e<=c)r="I got in the game in "+e+" points, beating out 99% of global players\uff01";else if(e>c&&e<this.game_max_score){r="I got "+e+" points in the game, it said to be the world's only "+(20-Math.ceil(17*(e-c)/(this.game_max_score-c)))+" people to reach this level! Have you?"}return r},start:function(){}}),cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",MainManage:"MainManage"}],linkHttpIconJs:[function(e,t,r){"use strict";cc._RF.push(t,"95474fr0oNDP7SAidILF03q","linkHttpIconJs");var o=e("MainManage"),n=e("GameConfig");cc.Class({extends:cc.Component,properties:{iconSpr:cc.Node,iconSpr1:cc.Node},onLoad:function(){if(this._imageArr=[],this.stopUpdateBool=!0,this.gameWidth=cc.winSize.width,this.gameHeight=cc.winSize.height,null!=o.recGameData&&""!=o.recGameData&&null!=o.recGameimg1&&""!=o.recGameimg1){var e=50-this.gameWidth/2,t=this.gameHeight-50-this.gameHeight/2;null!=o.recGamePos&&""!=o.recGamePos&&(1==o.recGamePos?(e=50-this.gameWidth/2,t=this.gameHeight-50-this.gameHeight/2):2==o.recGamePos?(e=this.gameWidth-50-this.gameWidth/2,t=this.gameHeight-50-this.gameHeight/2):3==o.recGamePos?(e=this.gameWidth-50-this.gameWidth/2,t=50-this.gameHeight/2):4==o.recGamePos&&(e=50-this.gameWidth/2,t=50-this.gameHeight/2));var r=o.recGameimg1,n=o.recGameimg2,a=this.iconSpr,c=this.iconSpr1,i=this;cc.loader.load(r,function(r,o){a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(o),i.iconSpr.opacity=0,i.iconSpr.x=e,i.iconSpr.y=t,i._imageArr.push(i.iconSpr)}),cc.loader.load(n,function(r,o){c.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(o),i.iconSpr1.opacity=0,i.iconSpr1.x=e,i.iconSpr1.y=t,i._imageArr.push(i.iconSpr1)})}this.addTouchEvents()},showLinkPic:function(){var e=0,t=0;e=null!=o.recGameDelPau?o.recGameDelPau:6,cc.log("dMainManager.recGameDelPer",o.recGameDelPer),t=null!=o.recGameDelPer?o.recGameDelPer:.7,this._imageArr[0].opacity=255,this._imageArr[0].runAction(cc.repeatForever(cc.sequence(cc.delayTime(e),cc.rotateBy(t,0,180),cc.callFunc(function(){this._imageArr[0].setRotation(0),this._imageArr[0].opacity=0,this._imageArr[1].opacity=255},this),cc.delayTime(e),cc.callFunc(function(){this.flowerAction(this._imageArr[1],t)},this),cc.delayTime(t),cc.callFunc(function(){this._imageArr[1].opacity=0,this._imageArr[0].opacity=255},this))))},flowerAction:function(e,t){e.runAction(cc.sequence(cc.rotateBy(t,0,180),cc.callFunc(function(){e.setRotation(0)})))},start:function(){},addTouchEvents:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){var r=t.getLocation();if(e._imageArr.length>=2){var a=Math.abs(r.x-e.gameWidth/2-e._imageArr[0].x),c=Math.abs(r.y-e.gameHeight/2-e._imageArr[0].y);a<=30&&c<=30&&(n.noTouchBool=!1,null!=o.recGameUrl&&""!=o.recGameUrl&&(e._imageArr[0].runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1),cc.callFunc(function(){window.location.href=o.recGameUrl}))),e._imageArr[1].runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1)))),console.log("touchLinkHttp"))}return!0},this)},update:function(e){this.stopUpdateBool&&this._imageArr.length>=2&&(this.stopUpdateBool=!1,this.showLinkPic())}}),cc._RF.pop()},{GameConfig:"GameConfig",MainManage:"MainManage"}],resArr:[function(e,t,r){"use strict";cc._RF.push(t,"36b14EoJxtHtJEeP2jXVvPf","resArr"),cc.Class({extends:cc.Component,properties:{SpriteFrameArr:[cc.SpriteFrame],PrefabArr:[cc.Prefab],audiosArr:{type:cc.AudioClip,default:[]}},onLoad:function(){void 0!=ToolsJs&&(ToolsJs.PrefabArrJs=this,ToolsJs.SpriteFrameJs=this,ToolsJs.AudioArrJs=this),this.addPrefabs(),this.addSpriteFrame(),this.audioClipDic={};for(var e=0;e<this.audiosArr.length;e++){var t=this.audiosArr[e];this.audioClipDic[t.name]=t}},playAudio:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return null!=this.audioClipDic[e]?cc.audioEngine.play(this.audioClipDic[e],r,t):(console.log("\u6ca1\u6709\u627e\u5230\u97f3\u9891\uff1a"+e),null)},getAudioClip:function(e){return null!=this.audioClipDic[e]?this.audioClipDic[e]:(console.log("\u6ca1\u6709\u627e\u5230\u97f3\u9891\uff1a"+e),null)},addSpriteFrame:function(){this.spriteArr={};for(var e=0;e<this.SpriteFrameArr.length;e++){var t=this.SpriteFrameArr[e];null!=t&&(this.spriteArr[t.name]=t)}},getSpriteFrame:function(e){return null!=this.spriteArr[e]?this.spriteArr[e]:(console.log("\u6ca1\u6709\u6dfb\u52a0\u56fe\u7247\uff1a"+e),null)},addPrefabs:function(){this.prefabsArr={};for(var e=0;e<this.PrefabArr.length;e++){var t=this.PrefabArr[e];this.prefabsArr[t.name]=t}},getPrefabs:function(e){return null!=this.prefabsArr[e]?this.prefabsArr[e]:(console.log("\u6ca1\u6709\u9884\u5236\u4f53\uff1a"+e),null)}}),cc._RF.pop()},{}],startGameJs:[function(e,t,r){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","startGameJs");var o=e("GameUiTools"),n=(e("HttpManagerJs"),e("MainManage")),a=(e("LoadSceneJs"),e("GameConfig"));cc.Class({extends:cc.Component,properties:{showInfoT:cc.Label,startT:cc.Label},onLoad:function(){a.publicGameBool&&n.init(),this.showInfoT.string=n.gameInfoText,this.startT.string=n.txtStartText,this.node.on("touchend",function(e){this.node.x=-2e3},this)},addTouchEvents:function(){var e={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(e,t){return o.loadingScene("MainGameScene"),!0},onTouchMoved:function(e,t){},onTouchEnded:function(e,t){}};cc.eventManager.addListener(e,this.node)},update:function(e){}}),cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",HttpManagerJs:"HttpManagerJs",LoadSceneJs:"LoadSceneJs",MainManage:"MainManage"}],use_reversed_rotateTo:[function(e,t,r){"use strict";cc._RF.push(t,"7408dInqMZP5pgEm8jDPXus","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],"use_v2.1.x_cc.Action":[function(e,t,r){"use strict";cc._RF.push(t,"c382eNvNvFEVqcM3zUHzwkK","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}]},{},["DataManager","MainCamera","MapManager","MusicManager","PoolManager","ReusableNode","SpriteManager","Card","HttpManagerJs","LanguageSetJs","LoadSceneJs","AniTools","MainGameJS","ToolsJs","UIManager","resArr","MainManage","AStar","ArrayTools","FloatScore","FrameAnimManager","Ribbon","GameConfig","GameData","GameTools","GameUiTools","gameOverJs","linkHttpIconJs","startGameJs","use_reversed_rotateTo","use_v2.1.x_cc.Action"]);